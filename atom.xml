<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://dzkjz.github.io/</id>
    <title>JojoLegend</title>
    <updated>2020-08-31T07:44:14.640Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://dzkjz.github.io/"/>
    <link rel="self" href="https://dzkjz.github.io/atom.xml"/>
    <subtitle>Something for age</subtitle>
    <logo>https://dzkjz.github.io/images/avatar.png</logo>
    <icon>https://dzkjz.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, JojoLegend</rights>
    <entry>
        <title type="html"><![CDATA[Laravel Collection å­¦ä¹ æçº²]]></title>
        <id>https://dzkjz.github.io/post/laravel-collection-xue-xi-ti-gang/</id>
        <link href="https://dzkjz.github.io/post/laravel-collection-xue-xi-ti-gang/">
        </link>
        <updated>2020-08-31T07:43:27.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p><strong>å¸¦ç€é—®é¢˜å­¦ä¹ ï¼Œæ–‡æ¡£ä¸Šä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨ï¼Ÿç”¨æ¥åšä»€ä¹ˆï¼Ÿå…·ä½“çš„ç”¨æ³•è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£</strong></p>
</blockquote>
<ol>
<li>
<p>Collectionä¸»è¦æ˜¯ç”¨æ¥æä¾›æ›´æ–¹ä¾¿çš„æ–¹æ³•å¤„ç†arrayæ•°æ®çš„ï¼›</p>
</li>
<li>
<p>å¹¶ä¸”collectioné‡Œæ–¹æ³•éƒ½æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„collectionå®ä¾‹ï¼Œæ„å‘³ç€å¯ä»¥å†™å‡ºé¢æ¡ä»£ç ï¼Œè€ŒåŸæ¥çš„åº•å±‚æ•°æ®å°±ä¸ä¼šè¢«ä¿®æ”¹ï¼Œå°±ä¼šå®Œæ•´çš„ä¿ç•™ä¸‹æ¥ã€‚</p>
</li>
<li>
<p>EloquentæŸ¥è¯¢çš„ç»“æœåŸºæœ¬ä¸Šä¹Ÿæ˜¯è¿”å›çš„collectionå®ä¾‹ã€‚</p>
</li>
</ol>
<blockquote>
<p>Collectionæœ‰å¾ˆå¤šçš„æ–¹æ³•ï¼ŒæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£<a href="https://laravel.com/docs/7.x/collections#available-methods">Available Methods</a></p>
</blockquote>
<h3 id="higher-order-messages">Higher Order Messages</h3>
<blockquote>
<p>å¹³æ—¶çš„æ–¹æ³•ï¼š</p>
<pre><code class="language-php">$users = User::where('votes', '&gt;', 500)-&gt;get();

$users-&gt;each(function($item,$key){
    $item-&gt;markAsVip();
});
</code></pre>
<p>å¦‚eachï¼š</p>
<pre><code class="language-php">$users = User::where('votes', '&gt;', 500)-&gt;get();

$users-&gt;each-&gt;markAsVip();
</code></pre>
</blockquote>
<h3 id="lazycollection">LazyCollection</h3>
<p>å¯¹äºéœ€è¦è¯»å–å¤§æ–‡ä»¶ï¼Œæ•°æ®é‡æ¯”è¾ƒå¤§çš„æ•°æ®ã€10ä¸‡æ¡Eloquentæ¨¡å‹æ•°æ®ã€‘åˆ°collectioné‡Œé¢ï¼Œå¯ä»¥ç”¨LazyCollectionï¼Œåº•å±‚ä¸»è¦æ˜¯PHP yieldï¼Œè¿™æ ·ä¸ç”¨ä¸€æ¬¡æ€§è¯»å–å®Œåˆ°å†…å­˜ï¼Œè€Œæ˜¯ä¸€æ¬¡ä¸€å–ä¸€è¯»ã€‚</p>
<blockquote>
<p>å¦‚æœ10ä¸‡æ¡æ•°æ®ä¸€æ¬¡ç”¨è¿™ç§æ–¹å¼è¯»å–ï¼Œé‚£å†…å­˜å ç”¨å¤ªå¤§äº†ï¼š</p>
<pre><code class="language-php">$users = App\User::all()-&gt;filter(function ($user) {
 return $user-&gt;id &gt; 500;
});
</code></pre>
<p>Eloquentæœ‰ä¸€ä¸ªcursoræ–¹æ³•è¿”å›çš„æ˜¯LazyCollectionå®ä¾‹ï¼Œä¸€æ¬¡è¯»å–ä¸€æ¡ï¼Œè¿™æ ·å†…å­˜ä¸ä¼šå¡çˆ†ï¼š</p>
<blockquote>
<pre><code class="language-php">$users = App\User::cursor()-&gt;filter(function ($user) {
return $user-&gt;id &gt; 500;
});

foreach ($users as $user) {
echo $user-&gt;id;
}
</code></pre>
</blockquote>
<p>å½“ç„¶ï¼Œfilteræ–¹æ³•å¹¶ä¸ä¼šåœ¨foreachä¹‹å‰å°±æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨foreachä¸­æ¯æ¬¡è¿­ä»£çš„æ—¶å€™æ‰§è¡Œã€‚</p>
</blockquote>
<p>LazyCollection æœ‰2ä¸ªä¸Collectionä¸åŒçš„æ–¹æ³•å¯ä»¥çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£<a href="https://laravel.com/docs/7.x/collections#lazy-collection-methods">Lazy Collection Methods</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Laravel Cacheå­¦ä¹ æçº²]]></title>
        <id>https://dzkjz.github.io/post/laravel-cache-xue-xi-ti-gang/</id>
        <link href="https://dzkjz.github.io/post/laravel-cache-xue-xi-ti-gang/">
        </link>
        <updated>2020-08-30T14:47:58.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p><strong>å¸¦ç€é—®é¢˜å­¦ï¼šæ–‡æ¡£ä¸Šä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</strong></p>
</blockquote>
<blockquote>
<p>ä¸€èˆ¬å»ºè®®ä½¿ç”¨<code>Memcached</code>æˆ–è€…<code>Redis</code>ã€‚</p>
</blockquote>
<h3 id="cacheä½¿ç”¨æ–¹æ³•">Cacheä½¿ç”¨æ–¹æ³•</h3>
<blockquote>
<p>Cacheçš„å¢åˆ æ”¹æŸ¥å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</p>
<p>åˆ©ç”¨Mockæ–¹å¼è¿›è¡ŒCacheæµ‹è¯•çš„æ—¶å€™ï¼Œéœ€è¦è°ƒç”¨<code>Cache::shouldReceive</code>æ–¹æ³•æä¾›å€¼ã€‚</p>
</blockquote>
<h3 id="cache-tags">Cache Tags</h3>
<p>ç»™ä¸€å †çš„Cacheå€¼åˆ†ç»„æ‰“æ ‡ç­¾éœ€ç”¨åˆ°<code>Cache Tags</code>ã€‚</p>
<blockquote>
<p>Cache Tags ä¸è¢«<code>file</code> ã€<code>dynamodb</code>åŠ <code>database</code>é©±åŠ¨æ‰€æ”¯æŒï¼Œç‰¹åˆ«æ˜¯å¦‚æœéœ€è¦ä½¿ç”¨å¤šTagsçš„æ°¸ä¹…å­˜å‚¨ï¼Œmemcachedé©±åŠ¨æ—¶æœ€ä¼˜é€‰æ‹©ï¼Œæ€§èƒ½æœ€å¥½ï¼Œå¹¶è‡ªåŠ¨æ¸…æ¥šé™ˆæ—§è®°å½•å€¼ã€‚</p>
</blockquote>
<blockquote>
<p>Cache Tagsçš„å¢åˆ æ”¹è¯»è¯·æŸ¥çœ‹<a href="https://laravel.com/docs/7.x/cache#cache-tags">å®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<h3 id="åŸå­é”">åŸå­é”</h3>
<p>åŸå­é”åªæœ‰åœ¨<code>memcached</code>,<code>dynamodb</code>,<code>redis</code>,<code>database</code>,<code>array</code>ä½œä¸ºcacheé©±åŠ¨çš„æ—¶å€™æ‰èƒ½è¢«ä½¿ç”¨ã€‚è€Œä¸”æ‰€æœ‰çš„serversã€ä»å±æœåŠ¡å™¨ã€‘éƒ½å¿…é¡»ä¸ç›¸åŒçš„ä¸­å¤®cache serverã€ä¸»æœåŠ¡å™¨ã€‘é€šä¿¡ã€‚</p>
<blockquote>
<p>æ¯ä¸ªç±»å‹çš„é©±åŠ¨å¦‚ä½•é…ç½®ï¼ŒåŸå­é”çš„å…·ä½“ä½¿ç”¨ï¼Œæ–¹æ³•è°ƒç”¨è¯·æŸ¥çœ‹<a href="https://laravel.com/docs/7.x/cache#atomic-locks">å®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<blockquote>
<p>è·¨è¿›ç¨‹ç®¡ç†åŸå­é”ï¼Œæ¯”å¦‚httpè¯·æ±‚çš„æ—¶å€™åŠ é”ï¼Œä½†æ˜¯è§£é”æ˜¯æ”¾åœ¨queue jobæˆ–è€…æŸä¸ªäº‹ä»¶è§¦å‘é€»è¾‘ä¹‹åã€‚å…·ä½“è¯·æŸ¥çœ‹<a href="https://laravel.com/docs/7.x/cache#managing-locks-across-processes">å®˜æ–¹æ–‡æ¡£</a></p>
</blockquote>
<h3 id="æ·»åŠ è‡ªå®šä¹‰cacheé©±åŠ¨">æ·»åŠ è‡ªå®šä¹‰Cacheé©±åŠ¨</h3>
<blockquote>
<p>å‚è€ƒ <a href="https://laravel.com/docs/7.x/cache#adding-custom-cache-drivers">Adding Custom Cache Drivers</a></p>
</blockquote>
<h3 id="äº‹ä»¶">äº‹ä»¶</h3>
<blockquote>
<p>Cacheçš„æ“ä½œä¼šè§¦å‘äº‹ä»¶ï¼Œå¦‚æœæœ‰éœ€è¦ç›‘å¬è¿™äº›äº‹ä»¶åšå“åº”çš„æ“ä½œï¼Œå¯ä»¥è®¾ç½®ç›‘å¬å™¨ï¼Œè®¾ç½®åœ¨EventServiceProviderç±»ä¸­ï¼Œå…·ä½“å‚è€ƒ<a href="https://laravel.com/docs/7.x/cache#events">Events</a></p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Laravel Broadcasting å­¦ä¹ æçº²]]></title>
        <id>https://dzkjz.github.io/post/laravel-broadcasting-xue-xi-ti-gang/</id>
        <link href="https://dzkjz.github.io/post/laravel-broadcasting-xue-xi-ti-gang/">
        </link>
        <updated>2020-08-30T12:17:52.000Z</updated>
        <content type="html"><![CDATA[<h2 id="1æ€è€ƒæ¯ä¸€ä¸ªæ¨¡å—åŠŸèƒ½æœ‰ä»€ä¹ˆç”¨ä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨åˆ°">1.æ€è€ƒæ¯ä¸€ä¸ªæ¨¡å—ï¼ŒåŠŸèƒ½æœ‰ä»€ä¹ˆç”¨ï¼Œä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨åˆ°ï¼Ÿ</h2>
<p>ä¸»è¦å°±æ˜¯é€šè¿‡åˆ©ç”¨WebSocketæŠ€æœ¯å®ç°æœåŠ¡ç«¯å¯¹ç”¨æˆ·ç«¯çš„ä¿¡æ¯æ›´æ–°æ¨é€ã€‚</p>
<p><em>æå‰éœ€è¦çŸ¥é“Eventã€äº‹ä»¶ã€‘å’ŒListeners ã€ç›‘å¬å™¨ã€‘å¦‚ä½•ç”¨ã€‚</em></p>
<blockquote>
<p>è¯¦ç»†ä¸€ç‚¹ï¼Œå°±æ˜¯åˆ©ç”¨Pusherå’ŒRedisä½œä¸ºé©±åŠ¨ï¼Œlogä¸€èˆ¬æ˜¯æµ‹è¯•çš„æ—¶å€™ç”¨ï¼Œè‡ªå·±å¯ä»¥å‚è€ƒ <a href="https://github.com/beyondcode/laravel-websockets">laravel-websockets</a>å®ç°ä¸€ä¸ªï¼Œé€šè¿‡WebSocketï¼Œå®ç°LaravelæœåŠ¡ç«¯æŠŠäº‹ä»¶å¹¿æ’­åˆ°å®¢æˆ·ç«¯çš„JavaScriptåº”ç”¨ä¸Šã€‚</p>
<p>äº‹ä»¶å¹¿æ’­ç”¨åˆ°çš„ä¿¡é“ï¼Œå…·ä½“åˆ†å…¬å…±å’Œç§æœ‰ä¿¡é“ï¼Œå…¬å…±çš„ä¿¡é“ï¼Œä»»ä½•ç”¨æˆ·å¯ä»¥ä¸ç»æˆæƒå’Œè®¤è¯å°±å¯ä»¥è®¢é˜…æ¥å—ï¼Œç§æœ‰çš„å°±å¿…é¡»è®¤è¯å’Œæˆæƒäº†ã€‚</p>
</blockquote>
<p>ä½¿ç”¨ä¸¾ä¾‹ï¼š</p>
<ol>
<li>
<p>å‡å®šæœ‰ä¸€ä¸ªç»™ç”¨æˆ·æŸ¥çœ‹è®¢å•å‘è´§çŠ¶æ€çš„é¡µé¢ï¼›</p>
</li>
<li>
<p>è®¢å•è¿è¾“çŠ¶æ€å‘ç”Ÿæ”¹å˜å°±ä¼šè§¦å‘ä¸€ä¸ªShippingStatusUpdatedäº‹ä»¶ã€‚</p>
</li>
</ol>
<blockquote>
<pre><code class="language-php">event(new ShippingStatusUpdated($update));
</code></pre>
<p>å½“ç”¨æˆ·æŒ‚åœ¨è¿™ä¸ªé¡µé¢ï¼Œå³ä½¿ä¸éœ€è¦åˆ·æ–°ã€‚ä¹Ÿå¯ä»¥åœ¨è¿å•çŠ¶æ€æ”¹å˜çš„æ—¶å€™é€šè¿‡å¹¿æ’­åˆ°åº”ç”¨çš„æ–¹å¼è¿›è¡Œè¿å•çŠ¶æ€çš„æ›´æ–°ã€‚</p>
<blockquote>
<p>åªéœ€è¦å®ç°<code>ShouldBroadcast</code>æ¥å£å³å¯ï¼›å…·ä½“å®ç°çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</p>
</blockquote>
</blockquote>
<p>å¯¹äºéœ€è¦ç§æœ‰ä¿¡é“çš„ï¼Œå¯ä»¥çœ‹<a href="https://laravel.com/docs/7.x/broadcasting#authorizing-channels">Authorizing Channels</a>ã€‚å°±æ˜¯JSåº”ç”¨å‘åç«¯å‘é€HTTPè¯·æ±‚ï¼Œåç«¯é‰´æƒæå®šå°±å¯ä»¥äº†ï¼Œä½¿ç”¨Laravel Echoçš„è¯ï¼Œè¿™äº›éƒ½æ˜¯é»˜è®¤å®ç°å¥½äº†çš„ã€‚ä¸è¿‡ï¼Œéœ€è¦å®šä¹‰ç›¸åº”çš„routesæ¥å“åº”è¿™äº›è¯·æ±‚ã€‚</p>
<blockquote>
<p>è·¯ç”±åŠå…¶ä»–çš„é…ç½®è§å®˜æ–¹æ–‡æ¡£ã€‚</p>
</blockquote>
<p>å¦‚æœä½ çš„åº”ç”¨åœ¨routes/channels.phpä¸­é…ç½®æœ‰å¤ªå¤šçš„channelï¼Œä¼šéå¸¸çš„è‡ƒè‚¿ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±å»ºè®®æ‰§è¡Œ<code>php artisan make:channel OrderChannel</code>è¿™ä¸ªartisanå‘½ä»¤æ·»åŠ channelç±»ã€ä½äºApp\Broadcastingæ–‡ä»¶å¤¹ã€‘ï¼Œå…¶å®å°±å¾ˆç±»ä¼¼äºhttpè¯·æ±‚çš„routesäº†ï¼›æŠŠchannels.phpæ–‡ä»¶é‡Œé¢çš„é—­åŒ…å°±æ¢æˆç±»å<code>Broadcast::channel('order.{order}', OrderChannel::class);</code>å…·ä½“ä»£ç å°±åœ¨channelç±»çš„joinæ–¹æ³•é‡Œé¢å¤„ç†ã€‚</p>
<blockquote>
<p>æ›´å¤šçš„å‚è€ƒå®˜æ–¹æ–‡æ¡£</p>
</blockquote>
<p>å¯¹äºä¸€ä¸ªäº‹ä»¶å¹¿æ’­éœ€è¦æ’é™¤å½“å‰ç”¨æˆ·ã€å®¢æˆ·ç«¯ã€‘çš„ï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨toOthers()æ–¹æ³•ï¼Œäº‹ä»¶ç±»éœ€è¦ä½¿ç”¨<code>Illuminate\Broadcasting\InteractsWithSockets</code>traitæ¥è°ƒç”¨toOthers()æ–¹æ³•ã€‚</p>
<blockquote>
<p>â€‹	However, remember that we also broadcast the task's creation. If your JavaScript application is listening for this event in order to add tasks to the task list, you will have duplicate tasks in your list: one from the end-point and one from the broadcast. You may solve this by using the <code>toOthers</code> method to instruct the broadcaster to not broadcast the event to the current user.</p>
<blockquote>
<p>åœºæ™¯å°±æ˜¯ï¼Œç”¨æˆ·å‘å¸ƒäº†ä¸€ä¸ªä»»åŠ¡ï¼Œç„¶åaxiosçš„responseè·å–åˆ°è¯¥ä»»åŠ¡æ›´æ–°ï¼ŒåŒæ—¶è¿™ä¸ªä»»åŠ¡æ›´æ–°è¢«äº‹ä»¶å¹¿æ’­å‡ºå»ï¼Œå‰ç«¯ä»£ç é€šè¿‡äº‹ä»¶å¹¿æ’­å°†ç”¨æˆ·ä»¬çš„ä»»åŠ¡åˆ—è¡¨+1ï¼Œå…¶ä»–ç”¨æˆ·æ¥æ”¶åˆ°äº†ï¼Œæœ¬ç”¨æˆ·ä¹Ÿæ¥å—åˆ°äº†ï¼Œç›¸å½“äºå½“å‰ç”¨æˆ·æ”¶åˆ°äº†ä¸¤æ¬¡å“åº”ï¼Œè¿™æ ·å°±é‡å¤äº†ï¼Œä½¿ç”¨<code>toOthers</code>æ–¹æ³•å°±å¯ä»¥ä¸é€šçŸ¥å½“å‰ç”¨æˆ·ï¼Œè¿™æ ·å°±ä¸ä¼šé‡å¤ã€‚</p>
</blockquote>
<blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue+Axioså·²ç»å®ç°äº†å®¢æˆ·ç«¯çš„å¤„ç†é€»è¾‘ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œå…·ä½“çš„çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://laravel.com/docs/7.x/broadcasting#only-to-others">Only To Others</a>ã€‚</p>
</blockquote>
</blockquote>
<p>åœ¨çº¿çŠ¶æ€é¢‘é“ã€æˆ‘æ„¿ç§°ä¹‹ä¸ºå±€åŸŸç½‘ã€‘ï¼Œå¯ä»¥å®ç°æ¯”å¦‚bilibiliåœ¨çº¿è§‚çœ‹äººæ•°å®æ—¶å˜åŠ¨çš„åŠŸèƒ½ã€‚ç”¨æˆ·å¤šä¸€ä¸ªï¼Œå¤§å®¶çš„åœ¨çº¿è§‚çœ‹äººæ•°éƒ½æ˜¾ç¤º+1ï¼Œå½“ç„¶æ›´ç²¾ç»†çš„å¯ä»¥åšåˆ°ï¼Œè°åŠ å…¥äº†ç›´æ’­é—´è¿™ç§æç¤ºã€‚<em>è‚¯å®šä¹Ÿå°±æ˜¯privateä¿¡é“ï¼Œè€Œä¸”ç”¨æˆ·è¿˜å¿…é¡»è¿‡channelé‰´æƒï¼Œä¸ç„¶æ€ä¹ˆç»Ÿè®¡ç”¨æˆ·ä¿¡æ¯ï¼Ÿ</em></p>
<blockquote>
<p>ä¹Ÿå› æ­¤ï¼Œé‰´æƒçš„å›è°ƒå‡½æ•°ä¸æ˜¯è¿”å›trueå€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªåŒ…å«ç”¨æˆ·æ•°æ®çš„arrayï¼Œè¿™ä¸ªæ•°æ®ä¼šè¢«å…¶ä»–äº‹ä»¶å¹¿æ’­ç›‘å¬çš„ç”¨æˆ·æ‰€ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰è¢«æˆæƒæˆ–æˆæƒå¤±è´¥ï¼Œè¿”å›falseæˆ–è€…nullã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚æœéœ€è¦åšèŠå¤©å®¤ç±»çš„åº”ç”¨æˆ–è€…åŠŸèƒ½å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚</p>
</blockquote>
<p>å¦‚æœéœ€è¦ä¸€ä¸ªæ¯”å¦‚â€œæ­£åœ¨è¾“å…¥â€çš„çŠ¶æ€æç¤ºç»™å…¶ä»–ç”¨æˆ·ï¼Œè€Œä¸ç”¨é€šçŸ¥åˆ°åç«¯ï¼Œåªéœ€è¦ä¸€ä¸ªå¾ˆè½»é‡ç®€æ´çš„åŠŸèƒ½ï¼Œè§¦å‘æ–¹ä½¿ç”¨Echoçš„<code>whisper</code>æ–¹æ³•ï¼Œæ¥æ”¶æ–¹ä½¿ç”¨<code>listenForWhisper</code>å³å¯ã€‚</p>
<blockquote>
<p>å…·ä½“å‚è€ƒå®˜æ–¹æ–‡æ¡£</p>
</blockquote>
<p>éœ€è¦Notificationä¹Ÿä½¿ç”¨BroadCastingæœåŠ¡ï¼Œä¸éœ€è¦åˆ·æ–°å°±å¯ä»¥é€šçŸ¥åˆ°å‰ç«¯ï¼Œ</p>
<p>è¯·å…ˆå‚è€ƒ<a href="https://laravel.com/docs/7.x/notifications#broadcast-notifications">the broadcast notification channel</a>é…ç½®Notificationï¼Œç„¶åå‰ç«¯å‚è€ƒ<a href="https://laravel.com/docs/7.x/broadcasting#notifications">å®˜æ–¹æ–‡æ¡£</a>è¿›è¡ŒNotificationå¹¿æ’­çš„ç›‘å¬å³å¯ã€‚</p>
<h2 id="2å…·ä½“ç”¨æ³•åªéœ€è¦äº†è§£ä¸ä½¿ç”¨çš„æ—¶å€™æ˜¯è®°ä¸ä½çš„å…·ä½“è¦ç”¨å†æŸ¥å®˜æ–¹æ–‡æ¡£">2.å…·ä½“ç”¨æ³•åªéœ€è¦äº†è§£ã€ä¸ä½¿ç”¨çš„æ—¶å€™æ˜¯è®°ä¸ä½çš„ã€‘ï¼Œå…·ä½“è¦ç”¨å†æŸ¥å®˜æ–¹æ–‡æ¡£ã€‚</h2>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Laradock Win10 ]]></title>
        <id>https://dzkjz.github.io/post/laradock-win10/</id>
        <link href="https://dzkjz.github.io/post/laradock-win10/">
        </link>
        <updated>2020-08-15T13:31:39.000Z</updated>
        <content type="html"><![CDATA[<p>å‚è€ƒå®˜æ–¹çš„<a href="https://laradock.io/">æ–‡æ¡£</a> ä»¥åŠ<a href="https://xueyuanjun.com/post/9608">åœ¨ Mac/Windows ç³»ç»Ÿä¸­ä½¿ç”¨ Laradock æ­å»ºåŸºäº Docker çš„ Laravel å¼€å‘ç¯å¢ƒ</a>å®‰è£…</p>
<p>ç»™ğŸ‘´ä¸€ç›´æŠ¥é”™ã€‚</p>
<blockquote>
<pre><code class="language-powershell">ERROR: for postgres  Cannot create container for service postgres: status code not OK but 500: {&quot;Message&quot;:&quot;Unhandled exception: Filesharing has been cancelled&quot;,&quot;StackTrace&quot;:&quot;   at Docker.ApiServices.Mounting.FileSharing.&lt;**DoShareAsync**&gt;d__6.MoveNext() in C:\workspaces\stable-2.3.x\src\github.com\docker\pinata\win\src\Docker.ApiServices\Mounting\FileSharing.cs:line 0\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Docker.ApiServices.Mounting.FileSharing.&lt;**ShareAsync**&gt;d__4.MoveNext() in C:\workspaces\stable-2.3.x\src\github.com\docker\pinata\win\src\Docker.ApiServices\Mounting\FileSharing.cs:line 47\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Docker.HttpApi.Controllers.FilesharingController.&lt;**ShareDirectory**&gt;d__2.MoveNext() in C:\workspaces\stable-2.3.x\src\github.com\docker\pinata\win\src\Docker.HttpApi\Controllers\FilesharingController.cs:line 21\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Threading.Tasks.TaskHelpersExtensions.&lt;**CastToObject**&gt;d__1`1.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Web.Http.Controllers.ApiControllerActionInvoker.&lt;**InvokeActionAsyncCore**&gt;d__1.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Web.Http.Controllers.ActionFilterResult.&lt;**ExecuteAsync**&gt;d__5.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Web.Http.Dispatcher.HttpControllerDispatcher.&lt;**SendAsync**&gt;d__15.MoveNext()&quot;}	
</code></pre>
</blockquote>
<p>åæ­£å°±æ˜¯è¿™ç±»ï¼Œæ²¡æˆªå®Œï¼Œ</p>
<p>æ ¹æ®</p>
<p>https://github.com/docker/for-win/issues/5456</p>
<p>https://stackoverflow.com/questions/59942110/docker-drive-has-not-been-shared</p>
<p>https://forums.docker.com/t/cannot-share-drive-in-windows-10/28798</p>
<p>ä»¥åŠ</p>
<blockquote>
<p><a href="http://www.karlxu.com/article/details/24">Laradocké‡åˆ°çš„å‘</a></p>
<figure data-type="image" tabindex="1"><img src="https://raw.githubusercontent.com/dzkjz/images-repo/master/20200815212846.png" alt="" loading="lazy"></figure>
</blockquote>
<p>å°±æ˜¯è®¾ç½®FILESHARING é‡Œæ·»åŠ éœ€è¦sharingçš„<strong>Cç›˜å’ŒDç›˜</strong>å°±okäº†ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Vueä¹‹inheritAttrs]]></title>
        <id>https://dzkjz.github.io/post/vue-zhi-inheritattrshttpscnvuejsorgv2apiinheritattrs/</id>
        <link href="https://dzkjz.github.io/post/vue-zhi-inheritattrshttpscnvuejsorgv2apiinheritattrs/">
        </link>
        <updated>2020-08-13T05:48:34.000Z</updated>
        <content type="html"><![CDATA[<p>å‚è€ƒ<a href="https://stackoverflow.com/questions/56224091/what-are-inheritattrsfalse-and-attrs-used-for-in-vue">what are inheritAttrs:false and $attrs used for in vue?</a>ï¼š</p>
<blockquote>
<pre><code>// Component
Vue.component('base-input', {
 inheritAttrs: false,
 props: ['label', 'value'],
 template: `
   &lt;label&gt;
     {{ label }}
     &lt;input
       v-bind=&quot;$attrs&quot;
       v-bind:value=&quot;value&quot;
       v-on:input=&quot;$emit('input', $event.target.value)&quot;
     &gt;
   &lt;/label&gt;
 `
})

// Usage
&lt;base-input
 v-model=&quot;username&quot;
 required
 placeholder=&quot;Enter your username&quot;
/&gt;
</code></pre>
<p>The <code>required</code> and <code>placeholder</code> attributes are then set on the <code>input</code> instead of the wrapping <code>label</code>.</p>
<p>It doesn't really have anything to do with children of children of components but it can be used in such a hierarchy.</p>
<p>I hope that clears things up for you.</p>
<p>ä¸Šé¢çš„ç¤ºä¾‹ä»£ç æ¥è‡ª <a href="https://vuejs.org/v2/guide/components-props.html#Disabling-Attribute-Inheritance">Disabling Attribute Inheritance</a>å®˜æ–¹æ–‡æ¡£ã€‚</p>
<p>å…¶å®å°±æ˜¯ <code>inheritAttrs</code>è®¾ç½®ä¸º<code>false</code>å€¼ä¹‹åï¼Œ</p>
<p>ä½¿ç”¨çš„</p>
<pre><code>&lt;base-input
 v-model=&quot;username&quot;
 required
 placeholder=&quot;Enter your username&quot;
</code></pre>
<p>è¿™é‡Œé¢è®¾ç½®çš„ <code>required</code> å’Œ <code>placeholder</code>å°±ä¸åœ¨æ¨¡æ¿æ ¹å…ƒç´ <code>label</code>ä¸Šï¼Œè€Œæ˜¯åœ¨æŒ‡å®šäº†<code>$attrs</code>çš„</p>
<pre><code>&lt;input
       v-bind=&quot;$attrs&quot;
</code></pre>
<p><code>input</code>æ ‡ç­¾ä¸Šã€‚å‚è€ƒè¿™ä¸ªï¼Œä»¥åè¦ç”¨çš„å°±æ˜¯ä½ æƒ³è®¾ç½®åˆ°å“ªé‡Œï¼Œå°±è®¾ç½®<code>$attrs</code>åˆ°å“ªé‡Œï¼Œä¸€èˆ¬è¿™ä¸ªç”¨åœ¨è‡ªå®šä¹‰åŸºç¡€ç»„ä»¶<a href="https://vuejs.org/v2/style-guide/#Base-component-names-strongly-recommended">base components</a>çš„ä¸Šé¢ã€‚</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Vue ä¹‹ ä½œç”¨åŸŸæ’æ§½]]></title>
        <id>https://dzkjz.github.io/post/vue-zhi-zuo-yong-yu-cha-cao/</id>
        <link href="https://dzkjz.github.io/post/vue-zhi-zuo-yong-yu-cha-cao/">
        </link>
        <updated>2020-08-11T18:53:34.000Z</updated>
        <content type="html"><![CDATA[<p>å‚è€ƒ<a href="https://cn.vuejs.org/v2/guide/components-slots.html#%E5%85%B6%E5%AE%83%E7%A4%BA%E4%BE%8B">å…¶ä»–ç¤ºä¾‹</a><br>
å…¶å®</p>
<pre><code> &lt;slot name=&quot;todo&quot; v-bind:todo=&quot;todo&quot;&gt;
      &lt;!-- åå¤‡å†…å®¹ --&gt;
      {{ todo.text }}
    &lt;/slot&gt;
</code></pre>
<p>å°±æ˜¯æŠŠå­ç»„ä»¶ä¸­çš„ todo æš´éœ²ç»™å¤–å±‚ç»„ä»¶</p>
<p>ç„¶åå¤–å±‚ç»„ä»¶å°±å¯ä»¥é€šè¿‡</p>
<pre><code> &lt;template v-slot:todo=&quot;{ todo }&quot;&gt;
    &lt;span v-if=&quot;todo.isComplete&quot;&gt;âœ“&lt;/span&gt;
    {{ todo.text }}
  &lt;/template&gt;
</code></pre>
<p>è¿™é‡Œé¢ç”¨äº†{todo}è§£æ„å‡ºä¸Šé¢slotçš„<code>:todo</code>å…¶å€¼ä¸ºä¸Šé¢é‚£ä¸ªç»„ä»¶ä¸­çš„<code>todo</code>å€¼ï¼Œ<br>
æš´éœ²å‡ºæ¥åœ¨å¤–å±‚ç»„ä»¶çš„templateé‡Œé¢ï¼Œå°±å¯ä»¥è®¿é—®äº†ï¼š<code>todo.isComplete</code>åŠ<code>{{ todo.text }}</code>å°±æ˜¯ä»å¤–å±‚è®¿é—®çš„å­ç»„ä»¶ä¸­çš„å€¼ã€‚<br>
slotåªèƒ½é€šè¿‡è¿™ç§æ–¹å¼ç”±å†…è€Œå¤–ï¼Œè¢«å¤–å±‚è®¿é—®åˆ°ã€‚<br>
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¹‹å‰ç‰ˆæœ¬æ˜¯<code>slot-scope=&quot;slotProps&quot;</code>è¿™ç§æ–¹å¼è®¿é—®çš„ï¼Œä½†æ˜¯å·²ç»è¢«<strong>åºŸå¼ƒäº†</strong>ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è‡ªå®šä¹‰ç»„ä»¶çš„ v-model]]></title>
        <id>https://dzkjz.github.io/post/zi-ding-yi-zu-jian-de-v-model/</id>
        <link href="https://dzkjz.github.io/post/zi-ding-yi-zu-jian-de-v-model/">
        </link>
        <updated>2020-08-11T15:45:38.000Z</updated>
        <content type="html"><![CDATA[<h1 id="è‡ªå®šä¹‰ç»„ä»¶çš„"><a href="https://cn.vuejs.org/v2/guide/components-custom-events.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6%E7%9A%84-v-model">è‡ªå®šä¹‰ç»„ä»¶çš„ <code>v-model</code></a></h1>
<p>ä¸€ä¸ªç»„ä»¶ä¸Šçš„ <code>v-model</code> é»˜è®¤ä¼šåˆ©ç”¨åä¸º <code>value</code> çš„ prop å’Œåä¸º <code>input</code> çš„äº‹ä»¶ï¼Œä½†æ˜¯åƒå•é€‰æ¡†ã€å¤é€‰æ¡†ç­‰ç±»å‹çš„è¾“å…¥æ§ä»¶å¯èƒ½ä¼šå°† <code>value</code> attribute ç”¨äº<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#Value">ä¸åŒçš„ç›®çš„</a>ã€‚<code>model</code> é€‰é¡¹å¯ä»¥ç”¨æ¥é¿å…è¿™æ ·çš„å†²çªï¼š</p>
<pre><code>Vue.component('base-checkbox', {
  model: {
    prop: 'checked',
    event: 'change'
  },
  props: {
    checked: Boolean
  },
  template: `
    &lt;input
      type=&quot;checkbox&quot;
      v-bind:checked=&quot;checked&quot;
      v-on:change=&quot;$emit('change', $event.target.checked)&quot;
    &gt;
  `
})
</code></pre>
<p>ç°åœ¨åœ¨è¿™ä¸ªç»„ä»¶ä¸Šä½¿ç”¨ <code>v-model</code> çš„æ—¶å€™ï¼š</p>
<pre><code>&lt;base-checkbox v-model=&quot;lovingVue&quot;&gt;&lt;/base-checkbox&gt;
</code></pre>
<p>è¿™é‡Œçš„ <code>lovingVue</code> çš„å€¼å°†ä¼šä¼ å…¥è¿™ä¸ªåä¸º <code>checked</code> çš„ propã€‚åŒæ—¶å½“ <code>&lt;base-checkbox&gt;</code> è§¦å‘ä¸€ä¸ª <code>change</code> äº‹ä»¶å¹¶é™„å¸¦ä¸€ä¸ªæ–°çš„å€¼çš„æ—¶å€™ï¼Œè¿™ä¸ª <code>lovingVue</code> çš„ property å°†ä¼šè¢«æ›´æ–°ã€‚</p>
<p>æ³¨æ„ä½ ä»ç„¶éœ€è¦åœ¨ç»„ä»¶çš„ <code>props</code> é€‰é¡¹é‡Œå£°æ˜ <code>checked</code> è¿™ä¸ª propã€‚</p>
<p>å°±æ˜¯è¯´ï¼š</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼š</p>
<p><code>&lt;base-checkbox v-model=&quot;lovingVue&quot;&gt;&lt;/base-checkbox&gt;</code></p>
<p>lovingVueä¼šå¯¹åº”åˆ°<code>base-checkbox</code>é‡Œé¢çš„valueå€¼ï¼Œä½†æ˜¯å¦‚æœå¤–å±‚componentéœ€è¦çš„æ˜¯ä½¿ç”¨è¿™ä¸ª<code>base-checkbox</code>componentçš„å…¶ä»–å±æ€§ï¼Œé‚£å°±ç”¨</p>
<pre><code>  model: {
    prop: 'checked',
    event: 'change'
  },
</code></pre>
<p>è¿™ç§æ–¹å¼ï¼›</p>
<p><code>v-model=&quot;lovingVue&quot;</code>å¯¹åº”åˆ°çš„å°±æ˜¯<code>base-checkbox</code>componenté‡Œé¢çš„<code>checked</code>å±æ€§ï¼Œè¿™ä¸ªå±æ€§å¿…é¡»åœ¨è¯¥ç»„ä»¶propsé‡Œå£°æ˜ï¼Œ</p>
<p>ä¸”</p>
<pre><code>v-on:change=&quot;$emit('change', $event.target.checked)&quot;
</code></pre>
<p>ä»¥åŠ</p>
<pre><code> model: {
    prop: 'checked',
    event: 'change'
  },
</code></pre>
<p>ä¸­çš„<code>event: 'change'</code>éƒ½ä¸å¯çœç•¥ï¼Œè¿˜å¿…é¡»å¯¹åº”ï¼ŒæŠ›å‡ºçš„äº‹ä»¶å’Œmodelé‡Œçš„äº‹ä»¶å¿…é¡»ä¸€æ ·ã€‚</p>
<p>æ‹“å±•åˆ†æï¼š</p>
<p>æœ‰è¿™æ ·ä¸€ä¸ªç»„ä»¶</p>
<pre><code class="language-vue">//BaseInput.vue
&lt;template&gt;
    &lt;label class=&quot;inner base&quot;&gt;
        {{ label }} : {{value}}
        &lt;input :placeholder=&quot;$attrs['placej']&quot;
               :value=&quot;value&quot;
               @input=&quot;$emit('inputa', $event.target.value)&quot;&gt;
    &lt;/label&gt;
&lt;/template&gt;

&lt;script&gt;
    export default {
        name: &quot;BaseInput&quot;,
        inheritAttrs: false,
        props: ['label', 'value'],
        model: {
            prop: 'label',
            event: 'inputa'
        }
    }
&lt;/script&gt;

&lt;style scoped&gt;

&lt;/style&gt;
</code></pre>
<p>å¤–å±‚ç»„ä»¶</p>
<pre><code class="language-vue">&lt;template&gt;
    &lt;div &gt;
        &lt;BaseInput class=&quot;outter home&quot; placej=&quot;aj&quot; v-model=&quot;bi&quot;&gt;&lt;/BaseInput&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    export default {
        name: 'Home',
        data() {
            return {
                bi: '',
            }
        },
    }
&lt;/script&gt;

&lt;style scoped&gt;

&lt;/style&gt;

</code></pre>
<p>æµç¨‹åˆ†æï¼š</p>
<p>é¦–å…ˆ<code>BaseInput.vue</code>ä¸­ä¸¤ä¸ªå±æ€§<code>props: ['label', 'value']</code>æ˜¯ç©ºå€¼ã€‚æ¥ä¸‹æ¥ï¼Œå½“è¾“å…¥çš„æ—¶å€™ï¼Œinputäº‹ä»¶è§¦å‘ï¼Œåœ¨<code>BaseInput.vue</code>ä¸­</p>
<p><code>@input=&quot;$emit('inputa', $event.target.value)&quot;</code>ï¼ŒæŠ›å‡º<code>inputa</code>äº‹ä»¶ï¼Œå€¼ä¸ºinputæ›´åŠ åº•å±‚çš„valueå³<code>$event.target.value</code>æŠ›å‡ºï¼›</p>
<p>ç„¶åç”±äº</p>
<pre><code> model: {
            prop: 'label',
            event: 'inputa'
        }
</code></pre>
<p>æ‰€ä»¥ï¼Œlabelå€¼è¢«è®¾ç½®ä¸ºè¿™ä¸ª<code>$event.target.value</code>çš„å€¼ï¼Œå¹¶<code>v-model=&quot;bi&quot;</code>è®¾ç½®åˆ°å¤–å±‚ç»„ä»¶çš„<code>bi</code>å€¼ï¼ŒåŒæ—¶ï¼Œvalueå€¼å› ä¸º<code>:value=&quot;value&quot;</code>è€Œè¯¥ç»„ä»¶ä¸­valueä¸ºç©ºï¼Œåˆ™ä¸€æ—¦è§¦å‘<code>input</code>äº‹ä»¶ï¼Œè¿™ä¸ª<code>:value</code>åˆè¢«é‡ç½®ä¸ºç©ºï¼Œè¾“å…¥æ¡†å€¼ä¹Ÿå°±è¢«æ¸…ç©ºã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Vue ä¹‹ $attrs]]></title>
        <id>https://dzkjz.github.io/post/vue-zhi-dollarattrs/</id>
        <link href="https://dzkjz.github.io/post/vue-zhi-dollarattrs/">
        </link>
        <updated>2020-08-11T13:41:46.000Z</updated>
        <content type="html"><![CDATA[<p>å‚è€ƒ<a href="https://medium.com/@filip.stepien/using-v-model-attrs-on-vue-components-7fc44a315270">Using v-model + $attrs on Vue Components</a>ï¼š</p>
<pre><code class="language-js">&lt;template&gt;
  &lt;div&gt;
    &lt;label for=&quot;name&quot; :class=&quot;label_cls&quot;&gt;Name&lt;/label&gt;
    &lt;input :class=&quot;input_cls&quot; id=&quot;name&quot; v-model=&quot;$attrs.value.name&quot;&gt;
    &lt;label for=&quot;role&quot; :class=&quot;label_cls&quot;&gt;Title&lt;/label&gt;
    &lt;input :class=&quot;input_cls&quot; id=&quot;role&quot; v-model=&quot;$attrs.value.role&quot;&gt;
    &lt;label for=&quot;email&quot; :class=&quot;label_cls&quot;&gt;Email&lt;/label&gt;
    &lt;input :class=&quot;input_cls&quot; id=&quot;email&quot; v-model=&quot;$attrs.value.email&quot;&gt;
    &lt;label for=&quot;insta&quot; :class=&quot;label_cls&quot;&gt;Instagram&lt;/label&gt;
    &lt;input :class=&quot;input_cls&quot; id=&quot;insta&quot; v-model=&quot;$attrs.value.insta&quot; autocomplete=&quot;insta_off&quot;&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { mapGetters } from &quot;vuex&quot;;
export default {
  name: &quot;UserFields&quot;,
  computed: {
    input_cls() {
      return &quot;w-full appearance-none border rounded py-2 px-3 mb-6 text-grey-darkest&quot;;
    },
    label_cls() {
      return &quot;text-grey-darker font-light inline-block mb-2&quot;;
    }
  }
};
&lt;/script&gt;
</code></pre>
<pre><code class="language-js">&lt;template&gt;
  &lt;div class=&quot;w-5/6 md:w-3/4 lg:w-2/3 mx-auto mt-8&quot; v-if=&quot;activeUser&quot;&gt;
    &lt;h2 class=&quot;font-light&quot;&gt;Account Settings&lt;/h2&gt;
    &lt;div class=&quot;flex mt-8 pt-8 border-t border-grey-light&quot;&gt;
      &lt;div class=&quot;w-64 hidden md:block&quot;&gt;
        &lt;div class=&quot;mb-2&quot;&gt;Profile&lt;/div&gt;
        &lt;span class=&quot;text-xs text-grey-dark&quot;&gt;
          Keep your user infomation up to date so that team members can contact
          you.
        &lt;/span&gt;
      &lt;/div&gt;
      &lt;form @submit.prevent=&quot;updateUser(user);&quot; class=&quot;flex flex-col md:ml-8 w-full&quot;&gt;
        &lt;UserFields v-model=&quot;user&quot;/&gt;
        &lt;div class=&quot;flex items-center&quot;&gt;
          &lt;input
            class=&quot;bg-blue hover:bg-blue-dark text-white font-normal py-2 px-4 my-6 rounded w-48 tracking-wide&quot;
            type=&quot;submit&quot;
            value=&quot;Submit&quot;
          &gt;
        &lt;/div&gt;
      &lt;/form&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import { mapGetters, mapActions } from &quot;vuex&quot;;
import UserFields from &quot;./UserFields.vue&quot;;
export default {
  name: &quot;UserForm&quot;,
  components: {
    UserFields
  },
  data() {
    return {
      user: {}
    };
  },
  mounted() {
    this.getUser();
  },
  computed: {
    ...mapGetters([&quot;activeUser&quot;])
  },
  methods: {
    ...mapActions([&quot;getUser&quot;, &quot;updateUser&quot;]),
    updateLocalUser(e) {
      this.$set(this.user, e.target.id, e.target.value);
    }
  },
  watch: {
    activeUser: {
      handler() {
        this.user = { ...this.activeUser };
      }
    },
    immediate: true
  }
};
&lt;/script&gt;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Vue æºç å­¦ä¹ ä¹‹main.jsä»£ç è§£æ]]></title>
        <id>https://dzkjz.github.io/post/vue-yuan-ma-xue-xi-zhi-mainjs-dai-ma-jie-xi/</id>
        <link href="https://dzkjz.github.io/post/vue-yuan-ma-xue-xi-zhi-mainjs-dai-ma-jie-xi/">
        </link>
        <updated>2020-08-08T16:00:18.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-js">//main.js
import Vue from 'vue'
import App from './App.vue'

Vue.config.productionTip = false

new Vue({
  render: h =&gt; h(App),
}).$mount('#app')

</code></pre>
<h4 id="vmmount"><a href="https://cn.vuejs.org/v2/api/index.html#vm-mount">vm.$mount</a></h4>
<blockquote>
<p>â€‹	[vm.$mount( [elementOrSelector] )]</p>
<ul>
<li>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>{Element | string} [elementOrSelector]</code></li>
<li><code>{boolean} [hydrating]</code></li>
</ul>
</li>
<li>
<p><strong>è¿”å›å€¼</strong>ï¼š<code>vm</code> - å®ä¾‹è‡ªèº«</p>
</li>
<li>
<p><strong>ç”¨æ³•</strong>ï¼š</p>
<p>å¦‚æœ Vue å®ä¾‹åœ¨å®ä¾‹åŒ–æ—¶æ²¡æœ‰æ”¶åˆ° el é€‰é¡¹ï¼Œåˆ™å®ƒå¤„äºâ€œæœªæŒ‚è½½â€çŠ¶æ€ï¼Œæ²¡æœ‰å…³è”çš„ DOM å…ƒç´ ã€‚å¯ä»¥ä½¿ç”¨ <code>vm.$mount()</code> æ‰‹åŠ¨åœ°æŒ‚è½½ä¸€ä¸ªæœªæŒ‚è½½çš„å®ä¾‹ã€‚</p>
<p>å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">new Vue({el:'#app'})
æˆ–è€…
new Vue().$mount('#app')
</code></pre>
<p>æ‹“å±•ä¸€ä¸‹ è¿™ä¸ª<a href="https://cn.vuejs.org/v2/api/index.html#el">el</a>é€‰é¡¹</p>
<blockquote>
<ul>
<li><strong>ç±»å‹</strong>ï¼š<code>string | Element</code></li>
</ul>
</blockquote>
</li>
</ul>
<blockquote>
<ul>
<li>
<p><strong>é™åˆ¶</strong>ï¼šåªåœ¨ç”¨ <code>new</code> åˆ›å»ºå®ä¾‹æ—¶ç”Ÿæ•ˆã€‚</p>
</li>
<li>
<p><strong>è¯¦ç»†</strong>ï¼š</p>
<p>æä¾›ä¸€ä¸ªåœ¨é¡µé¢ä¸Šå·²å­˜åœ¨çš„ DOM å…ƒç´ ä½œä¸º Vue å®ä¾‹çš„æŒ‚è½½ç›®æ ‡ã€‚å¯ä»¥æ˜¯ CSS é€‰æ‹©å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª HTMLElement å®ä¾‹ã€‚</p>
<p>åœ¨å®ä¾‹æŒ‚è½½ä¹‹åï¼Œå…ƒç´ å¯ä»¥ç”¨<a href="#vm.$el"><code>vm.$el</code></a>è®¿é—®ã€‚</p>
<p>å¦‚æœåœ¨å®ä¾‹åŒ–æ—¶å­˜åœ¨è¿™ä¸ªé€‰é¡¹ï¼Œå®ä¾‹å°†ç«‹å³è¿›å…¥ç¼–è¯‘è¿‡ç¨‹ï¼Œå¦åˆ™ï¼Œéœ€è¦æ˜¾å¼è°ƒç”¨ <a href="#vm.$mount"><code>vm.$mount()</code></a> æ‰‹åŠ¨å¼€å¯ç¼–è¯‘ã€‚</p>
<p>æä¾›çš„å…ƒç´ åªèƒ½ä½œä¸ºæŒ‚è½½ç‚¹ã€‚ä¸åŒäº Vue 1.xï¼Œæ‰€æœ‰çš„æŒ‚è½½å…ƒç´ ä¼šè¢« Vue ç”Ÿæˆçš„ DOM æ›¿æ¢ã€‚<strong>å› æ­¤ä¸æ¨èæŒ‚è½½ root å®ä¾‹åˆ° <code>&lt;html&gt;</code> æˆ–è€… <code>&lt;body&gt;</code> ä¸Š</strong>ã€‚</p>
<p>å¦‚æœ <code>render</code> å‡½æ•°å’Œ <code>template</code> property éƒ½ä¸å­˜åœ¨ï¼ŒæŒ‚è½½ DOM å…ƒç´ çš„ HTML ä¼šè¢«æå–å‡ºæ¥ç”¨ä½œæ¨¡æ¿ï¼Œæ­¤æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ Runtime + Compiler æ„å»ºçš„ Vue åº“ã€‚</p>
</li>
</ul>
</blockquote>
<p>å¦‚æœæ²¡æœ‰æä¾› <code>elementOrSelector</code> å‚æ•°ï¼Œæ¨¡æ¿å°†è¢«æ¸²æŸ“ä¸ºæ–‡æ¡£ä¹‹å¤–çš„çš„å…ƒç´ ï¼Œå¹¶ä¸”ä½ å¿…é¡»ä½¿ç”¨åŸç”Ÿ DOM API æŠŠå®ƒæ’å…¥æ–‡æ¡£ä¸­ã€‚</p>
<p>å¦‚ä¸‹ï¼š</p>
<pre><code class="language-js">var v = new Vue().$mount();
document.getElementById('app').appendChild(v.$el);
</code></pre>
<p>å…¶ä¸­v.$elè§£é‡Šï¼š</p>
<blockquote>
<h4 id="vmel"><a href="https://cn.vuejs.org/v2/api/index.html#vm-el">vm.$el</a></h4>
<ul>
<li>
<p><strong>ç±»å‹</strong>ï¼š<code>Element</code></p>
</li>
<li>
<p><strong>åªè¯»</strong></p>
</li>
<li>
<p><strong>è¯¦ç»†</strong>ï¼š</p>
<p>Vue å®ä¾‹ä½¿ç”¨çš„æ ¹ DOM å…ƒç´ ã€‚</p>
</li>
</ul>
</blockquote>
<p>è¿™ä¸ªæ–¹æ³•è¿”å›å®ä¾‹è‡ªèº«ï¼Œå› è€Œå¯ä»¥é“¾å¼è°ƒç”¨å…¶å®ƒå®ä¾‹æ–¹æ³•ã€‚</p>
</blockquote>
<h4 id="productiontip"><a href="https://cn.vuejs.org/v2/api/index.html#productionTip">productionTip</a></h4>
<blockquote>
<blockquote>
<p>2.2.0 æ–°å¢</p>
</blockquote>
<ul>
<li>
<p><strong>ç±»å‹</strong>ï¼š<code>boolean</code></p>
</li>
<li>
<p><strong>é»˜è®¤å€¼</strong>ï¼š<code>true</code></p>
</li>
<li>
<p><strong>ç”¨æ³•</strong>ï¼š</p>
<p>è®¾ç½®ä¸º <code>false</code> ä»¥é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚</p>
</li>
</ul>
</blockquote>
<p>å®ä¾‹åŒ–vueçš„é€‰é¡¹è¿™é‡Œåªç”¨åˆ°äº†renderï¼Œåœ¨ä»‹ç»renderä¹‹å‰ï¼Œå…ˆä»‹ç»templateé€‰é¡¹ï¼š</p>
<h4 id="template"><a href="https://cn.vuejs.org/v2/api/index.html#template">template</a></h4>
<blockquote>
<p>â€‹	<strong>ç±»å‹</strong>ï¼š<code>string</code></p>
<ul>
<li>
<p><strong>è¯¦ç»†</strong>ï¼š</p>
<p>ä¸€ä¸ªå­—ç¬¦ä¸²æ¨¡æ¿ä½œä¸º Vue å®ä¾‹çš„æ ‡è¯†ä½¿ç”¨ã€‚æ¨¡æ¿å°†ä¼š<strong>æ›¿æ¢</strong>æŒ‚è½½çš„å…ƒç´ ã€‚æŒ‚è½½å…ƒç´ çš„å†…å®¹éƒ½å°†è¢«å¿½ç•¥ï¼Œé™¤éæ¨¡æ¿çš„å†…å®¹æœ‰åˆ†å‘æ’æ§½ï¼ˆslotï¼‰ã€‚</p>
<p>å¦‚æœå€¼ä»¥ <code>#</code> å¼€å§‹ï¼Œåˆ™å®ƒå°†è¢«ç”¨ä½œé€‰æ‹©ç¬¦ï¼Œå¹¶ä½¿ç”¨åŒ¹é…å…ƒç´ çš„ innerHTML ä½œä¸ºæ¨¡æ¿ã€‚å¸¸ç”¨çš„æŠ€å·§æ˜¯ç”¨ <code>&lt;script type=&quot;x-template&quot;&gt;</code> åŒ…å«æ¨¡æ¿ã€‚</p>
<p>å‚è€ƒ<a href="https://vuejsdevelopers.com/2017/03/24/vue-js-component-templates/"><em>7 Ways to Define a Component Template in Vue.js</em></a></p>
</li>
</ul>
<blockquote>
<p>è¿™ç§ç”¨æ³•ä¸€èˆ¬å°±æ˜¯ç¤ºä¾‹æ‰ç”¨ï¼š</p>
<pre><code class="language-js">Vue.component('alert-box', {
template: `
 &lt;div class=&quot;demo-alert-box&quot;&gt;
   &lt;strong&gt;Error!&lt;/strong&gt;
   &lt;slot&gt;&lt;/slot&gt;
 &lt;/div&gt;
`
})
</code></pre>
<p>æ›´å¤šçš„å°±æ˜¯X-templates</p>
<blockquote>
<pre><code class="language-js">//app.js
Vue.component('my-checkbox', {
  template: '#checkbox-template',
  data() {
    return { checked: false, title: 'Check me' }
  },
  methods: {
    check() { this.checked = !this.checked; }
  }
});
</code></pre>
<pre><code class="language-html">&lt;!--index.html--&gt;
&lt;div id=&quot;app&quot;&gt;...&lt;/div&gt;
&lt;script type=&quot;text/x-template&quot; id=&quot;checkbox-template&quot;&gt;
  &lt;div class=&quot;checkbox-wrapper&quot; @click=&quot;check&quot;&gt;
    &lt;div :class=&quot;{ checkbox: true, checked: checked }&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;title&quot;&gt;{{ title }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/script&gt;
</code></pre>
<p>å³ï¼šåœ¨index.htmlä¸­å®šä¹‰ä¸€ä¸ªtypeä¸ºtext/x-templateçš„sctiptæ ‡ç­¾ï¼Œç»™ä¸€ä¸ªidï¼šcheckbox-templateï¼Œç»„ä»¶ä¸­templateé€‰é¡¹å°±ä¸ç”¨å†å†™å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ç›´æ¥å°±ç”¨è¿™ä¸ªidå¼•ç”¨scriptä¸Šçš„æ¨¡æ¿äº†ã€‚</p>
</blockquote>
</blockquote>
<ol>
<li>
<p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œä½ åº”è¯¥åªä½¿ç”¨ä½ ä¿¡ä»»çš„ Vue æ¨¡æ¿ã€‚é¿å…ä½¿ç”¨å…¶ä»–äººç”Ÿæˆçš„å†…å®¹ä½œä¸ºä½ çš„æ¨¡æ¿ã€‚</p>
</li>
<li>
<p>å¦‚æœ Vue é€‰é¡¹ä¸­åŒ…å«<a href="#render">æ¸²æŸ“å‡½æ•°</a>ï¼Œè¯¥æ¨¡æ¿å°†è¢«å¿½ç•¥ã€‚</p>
</li>
</ol>
</blockquote>
<p>ä»‹ç»äº†templateï¼Œç°åœ¨ä»‹ç»renderé€‰é¡¹ã€‚</p>
<h4 id="render"><a href="https://cn.vuejs.org/v2/api/index.html#render">render</a></h4>
<blockquote>
<ul>
<li>
<p><strong>ç±»å‹</strong>ï¼š<code>(createElement: () =&gt; VNode) =&gt; VNode</code></p>
</li>
<li>
<p><strong>è¯¦ç»†</strong>ï¼š</p>
<p>å­—ç¬¦ä¸²æ¨¡æ¿<a href="#template">template</a>çš„ä»£æ›¿æ–¹æ¡ˆï¼Œå…è®¸ä½ å‘æŒ¥ JavaScript æœ€å¤§çš„ç¼–ç¨‹èƒ½åŠ›ã€‚è¯¥æ¸²æŸ“å‡½æ•°æ¥æ”¶ä¸€ä¸ª <code>createElement</code> æ–¹æ³•ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ç”¨æ¥åˆ›å»º <code>VNode</code>ã€‚</p>
<p>å¦‚æœç»„ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶ï¼Œæ¸²æŸ“å‡½æ•°è¿˜ä¼šæ¥æ”¶ä¸€ä¸ªé¢å¤–çš„ <code>context</code> å‚æ•°ï¼Œä¸ºæ²¡æœ‰å®ä¾‹çš„å‡½æ•°ç»„ä»¶æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p>
<p>Vue é€‰é¡¹ä¸­çš„ <code>render</code> å‡½æ•°è‹¥å­˜åœ¨ï¼Œåˆ™ Vue æ„é€ å‡½æ•°ä¸ä¼šä» <code>template</code> é€‰é¡¹æˆ–é€šè¿‡ <code>el</code> é€‰é¡¹æŒ‡å®šçš„æŒ‚è½½å…ƒç´ ä¸­æå–å‡ºçš„ HTML æ¨¡æ¿ç¼–è¯‘æ¸²æŸ“å‡½æ•°ã€‚</p>
</li>
</ul>
<p>è¿™ä¸ªè§£é‡Šå¤ªç†è®ºäº†ã€‚ç›´æ¥ä»<a href="https://vuejs.org/v2/guide/render-function.html">render-function</a>æ‘˜ä¸€æ®µ</p>
<pre><code class="language-js">Vue.component('anchored-heading', {
  render: function (createElement) {
    return createElement(
      'h' + this.level,   // tag name
      this.$slots.default // array of children
    )
  },
  props: {
    level: {
      type: Number,
      required: true
    }
  }
})
</code></pre>
<p>å†çœ‹çœ‹<a href="https://www.tutorialspoint.com/vuejs/vuejs_render_function.htm">vuejs render function</a>çš„ç¤ºä¾‹ï¼š</p>
<blockquote>
<p>å°†è¿™ä¸ª</p>
<pre><code class="language-html">&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;VueJs Instance&lt;/title&gt;
      &lt;script type = &quot;text/javascript&quot; src = &quot;js/vue.js&quot;&gt;&lt;/script&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;div id = &quot;component_test&quot;&gt;
         &lt;testcomponent&gt;Hello Jai&lt;/testcomponent&gt;
         &lt;testcomponent&gt;Hello Roy&lt;/testcomponent&gt;
         &lt;testcomponent&gt;Hello Ria&lt;/testcomponent&gt;
         &lt;testcomponent&gt;Hello Ben&lt;/testcomponent&gt;
      &lt;/div&gt;
      &lt;script type = &quot;text/javascript&quot;&gt;
         Vue.component('testcomponent',{
            template : '&lt;h1&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/h1&gt;',
            data: function() {
            },
            methods:{
            }
         });
         var vm = new Vue({
            el: '#component_test'
         });
      &lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>é€šè¿‡ä½¿ç”¨render function ä¼˜åŒ–æˆï¼š</p>
<pre><code class="language-html">&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;VueJs Instance&lt;/title&gt;
      &lt;script type = &quot;text/javascript&quot; src = &quot;js/vue.js&quot;&gt;&lt;/script&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;div id = &quot;component_test&quot;&gt;
         &lt;testcomponent :elementtype = &quot;'div,red,25,div1'&quot;&gt;Hello Jai&lt;/testcomponent&gt;
         &lt;testcomponent :elementtype = &quot;'h3,green,25,h3tag'&quot;&gt;Hello Roy&lt;/testcomponent&gt;
         &lt;testcomponent :elementtype = &quot;'p,blue,25,ptag'&quot;&gt;Hello Ria&lt;/testcomponent&gt;
         &lt;testcomponent :elementtype = &quot;'div,green,25,divtag'&quot;&gt;Hello Ben&lt;/testcomponent&gt;
      &lt;/div&gt;
      &lt;script type = &quot;text/javascript&quot;&gt;
         Vue.component('testcomponent',{
            render :function(createElement){
               var a = this.elementtype.split(&quot;,&quot;);
               return createElement(a[0],{
                  attrs:{
                     id:a[3],
                     style:&quot;color:&quot;+a[1]+&quot;;font-size:&quot;+a[2]+&quot;;&quot;
                  }
               },
               this.$slots.default
               )
            },
            props:{
               elementtype:{
                  attributes:String,
                  required:true
               }
            }
         });
         var vm = new Vue({
            el: '#component_test'
         });
      &lt;/script&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre>
</blockquote>
<p>ä¸è¿‡æˆ‘è§‰å¾—è§£é‡Šæ¯”è¾ƒé€šé¡ºçš„åº”è¯¥æ˜¯ï¼š</p>
<p><a href="https://snipcart.com/blog/vue-render-functions">Vue render functions</a>ä¸­çš„ï¼š</p>
<blockquote>
<p>Each <a href="https://snipcart.com/blog/vue-component-example-tutorial"><strong>Vue component</strong></a> implements a render function. Most of the time, the function will be created by the Vue compiler. When you specify a <code>template</code> on your component, the content of this template will be processed by the Vue compiler that will return a render function. The render function essentially returns a virtual DOM node which will be rendered by Vue in your browser DOM.</p>
</blockquote>
<figure data-type="image" tabindex="1"><img src="https://raw.githubusercontent.com/dzkjz/images-repo/master/renderingprocess.png" alt="" loading="lazy"></figure>
<blockquote>
<p>åŒæ—¶æœ¬æ–‡æŒ‡å‡ºï¼Œè™šæ‹ŸDOMå¯ä»¥åœ¨æ›´æ–°æµè§ˆå™¨å‰æ¸²æŸ“ç»„ä»¶ï¼Œæ­£æ˜¯å› ä¸ºä¸æµè§ˆå™¨çš„ç›´æ¥æ¥è§¦è¾ƒå°‘ï¼Œæ‰€ä»¥é€Ÿåº¦æ›´å¿«ã€‚</p>
<blockquote>
<p>æ‘˜ä¸€æ®µ https://blog.logrocket.com/using-jsx-with-vue/</p>
<p>Vue creates a Virtual DOM that keeps track of all the changes made to the real DOM and on every data change Vue returns a new Virtual DOM, it then compares the old virtual DOM to the new one and checks for specific changes and makes adjustments in the real DOM.</p>
<p>The process of comparing and checking changes between the old and the new Virtual DOM is referred to as <a href="https://en.wikipedia.org/wiki/Diff">diffing</a>.</p>
<p>This <a href="https://template-explorer.vuejs.org/">mini-app</a> helps explore the Vue templates and render functions, you can learn more about render functions in Vue and the Virtual DOM <a href="https://blog.logrocket.com/accessing-the-virtual-dom-using-render-functions-in-vue-js/">here</a>.</p>
</blockquote>
<p>è¿™æ ·æ›´æ–°çš„å…ƒç´ å°±æ›´å°‘ï¼Œæé«˜äº†æ•ˆç‡ï¼Œrender functionè¿”å›çš„å°±æ˜¯è™šæ‹ŸDOMèŠ‚ç‚¹ã€é€šå¸¸å«VNodeã€‘ï¼Œwhich is an interface that allows Vue to write these objects in your browser DOMã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://raw.githubusercontent.com/dzkjz/images-repo/master/vuegraph.jpg" alt="" loading="lazy"></figure>
</blockquote>
<blockquote>
<p>ç»„ä»¶ä¸­éƒ½å¯ä»¥ç”¨è¿™ä¸ªrender functionï¼Œä¸€æ—¦ç»„ä»¶çš„å±æ€§æ›´æ–°äº†ï¼Œè¿™ä¸ªrender functionå°±ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>å¤šæ•°æ—¶å€™ï¼Œè¿™ä¸ªrender functionæ˜¯ç›´æ¥åœ¨buildé¡¹ç›®çš„æ—¶å€™ï¼Œç›´æ¥è¢«vue æ‰“åŒ…å¥½çš„ï¼Œä½ å¯ä»¥ä¸ç”¨æ¯ä¸ªç»„ä»¶éƒ½å†™ä¸€éè¿™ä¸ªrender functionã€‚</p>
</blockquote>
<p>å…¶ä½™çš„éƒ¨åˆ†ä¸æ‘˜æŠ„äº†ï¼Œæœ‰å¾ˆå¤šé«˜çº§çš„å†…å®¹ã€‚</p>
<blockquote>
<p>è¿™ä¸ªä¼ å…¥çš„createElementæ–¹æ³•ï¼Œæ˜¯vueè‡ªå¸¦çš„ï¼Œå¯ä»¥ç”¨äºåˆ›å»ºelementã€‚</p>
</blockquote>
<p>ã€Švue.jsã€‹ä¹¦çš„ä½œè€…æœ‰ä¸€ä¸ªè§†é¢‘è®²è§£ï¼š<a href="https://www.youtube.com/watch?v=l0eZCvJcYZ8">Create A Vue App With Render Functions Tutorial! What Is it?</a></p>
<blockquote>
<p>â€‹	ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯ç”¨çš„æ¯”å¦‚</p>
<pre><code class="language-vue">&lt;template&gt;
  &lt;div class=&quot;home&quot; @click=&quot;()=&gt;alert('test')&quot;&gt;
    &lt;p&gt;
       no class
    &lt;/p&gt;
      &lt;p class=&quot;textp&quot;&gt;
        what a world
    &lt;/p&gt;
      &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt;
      
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import HelloWorld from './components/HelloWorld.vue'

export default {
  name: 'hello',
  components: {
    HelloWorld
  }
}
&lt;/script&gt;

&lt;style&gt;

&lt;/style&gt;
</code></pre>
<p>è¿™æ ·çš„vueæ–‡ä»¶</p>
<p>å°±æ˜¯ template ç„¶å script ç„¶å style</p>
<p>å¦‚æœä½¿ç”¨renderå¯ä»¥ç›´æ¥ä¸ç”¨templateï¼Œä¹Ÿä¸ç”¨</p>
<pre><code class="language-vue">components: {
    HelloWorld
  }
</code></pre>
<p>ç›´æ¥</p>
<pre><code class="language-vue">&lt;script&gt;
import HelloWorld from './components/HelloWorld.vue'

export default {
  name: 'hello',
 render(createElement){
     return createElement(&quot;div&quot;,{
         attr:{
             class:&quot;home&quot;
         },
         on:{
             click:()=&gt;alert(&quot;test&quot;)
         }
     },
      [
         createElement(&quot;p&quot;,{},&quot;no class&quot;),
         createElement(&quot;p&quot;,{
             attr:{
                 class:&quot;textp&quot;
             }
         },&quot;what a world&quot;),
         createElement(HelloWorld,{
             props:{
                 msg:&quot;created!&quot;
             }
         })
     ])
 }
}
&lt;/script&gt;

&lt;style&gt;
&lt;/style&gt;

</code></pre>
<p>ä¸€èˆ¬è¿˜æ˜¯ç”¨çš„templateï¼Œå› ä¸ºæ¯”è¾ƒç›´è§‚ï¼Œä½†æ˜¯å¦‚æœä»£ç é‡å¤å¤ªå¤šï¼Œé‚£è¿˜æ˜¯ä¸è¦é‡å¤é€ è½®ï¼Œç›´æ¥ç”¨è¿™ç§createElementæ–¹å¼ï¼Œåæ­£ä¸¤ç§æ–¹å¼ï¼Œå“ªç§æ–¹ä¾¿ç”¨å“ªç§ã€‚</p>
</blockquote>
</blockquote>
<p>renderä»‹ç»å®Œï¼Œé‚£ä¹ˆ<code>render: h =&gt; h(App),</code>ä¸­<code>h</code>æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆ<code>h(APP)</code>è¿™æ ·ä½¿ç”¨</p>
<p>è¿™é‡Œå‚è€ƒ<a href="https://css-tricks.com/what-does-the-h-stand-for-in-vues-render-method/">What does the â€˜hâ€™ stand for in Vueâ€™s render method?</a>:</p>
<blockquote>
<p>The <code>h</code> stands for <strong>hyperscript</strong>, hyperscript is actually <a href="https://github.com/hyperhype/hyperscript">the name of a library</a> (what isnâ€™t updated these days) and it actually has a <a href="https://github.com/hyperhype/hyperscript#ecosystem">small ecosystem</a>,</p>
<blockquote>
<p><a href="https://github.com/vuejs/babel-plugin-transform-vue-jsx/issues/6#issuecomment-232994673">å°¤é›¨æºªæ³¨</a>ï¼š</p>
<p><em>Hyperscript itself stands for â€œscript that generates HTML structures</em>,</p>
</blockquote>
<p>Really, you can think of it as being short for <code>createElement</code>. Here would be the long form:</p>
<pre><code class="language-js">render: function (createElement) {
return createElement(App);
}
</code></pre>
<p>If we replace that with an <code>h</code>, then we first arrive at:</p>
<pre><code class="language-javascript">render: function (h) {
return h(App);
}
</code></pre>
<p>â€¦which can then be shortened with the use of ES6 to:</p>
<pre><code class="language-js">render: h =&gt; h (App)
</code></pre>
<p>The Vue version takes up to three arguments:</p>
<pre><code class="language-js">render(h) {
  return h('div', {}, [...])
}
</code></pre>
<ol>
<li>The first is type of the element (here shown as <code>div</code>).</li>
<li>The second is the data object. We nest some fields here, including: props, attrs, dom props, class and style.</li>
<li>The third is an array of child nodes. Weâ€™ll then have nested calls and eventually return a tree of virtual DOM nodes.</li>
</ol>
<p>Thereâ€™s more in-depth information in the <a href="https://vuejs.org/v2/guide/render-function.html#createElement-Arguments">Vue Guide here</a>.</p>
</blockquote>
<p>è¿™é‡Œè¿˜æåˆ°äº†JSXï¼Œé‚£ä¹ˆJSXæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Œä¸ºä»€ä¹ˆç”¨å®ƒï¼Ÿ</p>
<blockquote>
<pre><code class="language-js">Vue.component('jsx-example', {
  render (h) {
    return &lt;div id=&quot;foo&quot;&gt;bar&lt;/div&gt;
  }
})
</code></pre>
</blockquote>
<blockquote>
<p>æ‘˜<a href="https://blog.logrocket.com/using-jsx-with-vue/">Using JSX with Vue</a></p>
<p>é¦–å…ˆï¼ŒJSXæ˜¯ç±»ä¼¼XMLæ–‡æœ¬çš„è¯­æ³•æ‰©å±•ï¼Œç”¨æ¥å†™jsä»£ç ï¼Œæ˜¯render functionçš„æŠ½è±¡ç‰ˆæœ¬ã€‚æœ€å¼€å§‹æ˜¯Facebookå·¥ç¨‹å¸ˆå‘æ˜ï¼Œç”¨æ¥å†™Reactçš„ã€‚</p>
</blockquote>
<blockquote>
<p>æ‘˜å®˜æ–¹æ–‡æ¡£<a href="https://vuejs.org/v2/guide/render-function.html#JSX">JSX</a></p>
<p>If youâ€™re writing a lot of <code>render</code> functions, it might feel painful to write something like this:</p>
<blockquote>
<pre><code class="language-js">createElement(
  'anchored-heading', {
    props: {
      level: 1
    }
  }, [
    createElement('span', 'Hello'),
    ' world!'
  ]
)
</code></pre>
</blockquote>
<p>Especially when the template version is so simple in comparison:</p>
<blockquote>
<pre><code class="language-html">&lt;anchored-heading :level=&quot;1&quot;&gt;
  &lt;span&gt;Hello&lt;/span&gt; world!
&lt;/anchored-heading&gt;
</code></pre>
</blockquote>
<p>Thatâ€™s why thereâ€™s a <a href="https://github.com/vuejs/jsx">Babel plugin</a> to use JSX with Vue, getting us back to a syntax thatâ€™s closer to templates:</p>
<blockquote>
<pre><code class="language-vue">import AnchoredHeading from './AnchoredHeading.vue'

new Vue({
  el: '#demo',
  render: function (h) {
    return (
      &lt;AnchoredHeading level={1}&gt;
        &lt;span&gt;Hello&lt;/span&gt; world!
      &lt;/AnchoredHeading&gt;
    )
  }
})
</code></pre>
<p>æ³¨æ„ï¼ŒVueä¸­é€šå¸¸éƒ½æ˜¯ç”¨<code>h</code>æ¥ç®€å†™ä»£è¡¨<code>createElement</code>ï¼Œ<strong>åœ¨JSXä¸­æ˜¯å¿…é¡»ç”¨<code>h</code>çš„ï¼Œä½†æ˜¯babel3.4ç‰ˆæœ¬ä¹‹åçš„ï¼Œå·²ç»è‡ªåŠ¨æ³¨å…¥äº†<code>const h = this.$createElement</code>åˆ°æ–¹æ³•å’Œè®¾ç½®å™¨ä¸­ï¼Œæ‰€ä»¥(h)å‚æ•°å¯ä»¥çœç•¥ï¼Œä¹‹å‰çš„ç‰ˆæœ¬æ²¡æœ‰<code>h</code>å‚æ•°ä¼šæŠ›<code>h</code> not availableå¼‚å¸¸</strong></p>
</blockquote>
<p>å‚è€ƒ[JSX Implementation](https://blog.logrocket.com/using-jsx-with-vue/Using JSX with Vue)è¿˜å¯ä»¥è¿™æ ·ï¼š</p>
<p>åŸå…ˆçš„ï¼š</p>
<blockquote>
<pre><code class="language-js">&lt;template&gt;
   &lt;div v-if=&quot;user.age &gt; 18&quot;&gt;
      Welcome, {{user.name}}
    &lt;/div&gt;
&lt;/template&gt;
</code></pre>
</blockquote>
<p>å¯ä»¥æ”¹ä¸ºï¼š</p>
<blockquote>
<pre><code class="language-js">export default {
....
  methods: {
      checkStatement(){
        if (this.user.age &gt; 18) {
           return &lt;div&gt; Welcome, { this.user.name }&lt;/div&gt;;
        }
      }
    },
    render(){
      return(
        {this.checkStatement()}
      )
    }
}
</code></pre>
</blockquote>
<p>renderä¼šè°ƒç”¨è¿™ä¸ªcheckStatementæ–¹æ³•ã€‚</p>
<p>[Using JSX with Vue]([https://blog.logrocket.com/using-jsx-with-vue/Using%20JSX%20with%20Vue](https://blog.logrocket.com/using-jsx-with-vue/Using JSX with Vue))è¿˜æœ‰Loops (v-for),Events(v-on),Interpolation (v-html),Importing componentså‡ ä¸ªçš„å…·ä½“ä¿®æ”¹æ–¹æ³•ï¼Œå°±ä¸æ‘˜æŠ„äº†ã€‚</p>
<p>è¿˜æœ‰å‡ ä¸ªè¦æ³¨æ„çš„</p>
<h5 id="vues-jsx-syntax-gotchas"><a href="https://scotch.io/tutorials/using-jsx-with-vue-and-why-you-should-care#toc-vue-s-jsx-syntax-gotchas">Vue's JSX syntax gotchas</a></h5>
<blockquote>
<p>First, you can no longer use the <code>:</code> and <code>@</code> shortcuts for binding and listening to events. They are invalid JSX syntax and your code won't compile.</p>
<p>To listen for events in JSX, we need the &quot;<em>on</em>&quot; prefix. For example, use <code>onClick</code> for click events.</p>
<pre><code class="language-js">render (createElement) {
     return (
         &lt;button onClick={this.handleClick}&gt;&lt;/button&gt;
     )
 }
</code></pre>
<p>To modify events, use:</p>
<pre><code class="language-js"> render (createElement) {
     return (
         &lt;button onClick:prevent={this.handleClick}&gt;&lt;/button&gt;
     )
 }
</code></pre>
<p>To bind a variable, instead of <code>:</code> use: ä»¥å‰å°±æ˜¯<code>:content=&quot;generatedText&quot;</code></p>
<pre><code class="language-js"> render (createElement) {
     return (
         &lt;button content={this.generatedText}&gt;&lt;/button&gt;
     )
 }
</code></pre>
<p>To set HTML string as the content of an element, instead of <code>v-html</code> use:</p>
<pre><code class="language-js"> render (createElement) {
     return (
         &lt;button domPropsInnerHTML={htmlContent}&gt;&lt;/button&gt;
     )
 }
</code></pre>
<p>We can also spread a large object.</p>
<pre><code class="language-js"> render (createElement) {
     return (
         &lt;button {...this.largeProps}&gt;&lt;/button&gt;
     )
 }
</code></pre>
<h6 id="how-to-make-jsx-work-with-typescript"><a href="https://scotch.io/tutorials/using-jsx-with-vue-and-why-you-should-care#toc-how-to-make-jsx-work-with-typescript">How to make JSX work with TypeScript</a></h6>
</blockquote>
<h5 id="using-jsx-in-render"><a href="https://scotch.io/tutorials/using-jsx-with-vue-and-why-you-should-care#toc-using-jsx-in-render">Using JSX in render</a></h5>
<p>æœ€åå»ºè®®ï¼štemplateé€‚åˆåœ¨æ¨¡æ¿æ¯”è¾ƒå¤æ‚çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼ŒJSXé€‚åˆé‡å¤é€ è½®ï¼Œä»£ç å´ä¸å¤æ‚çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</p>
<blockquote>
<p>Iâ€™m working on a project that has quite an amount of low-level components. They contain lots of scripting with small amounts of templating. JSX feels like a breath of fresh air in this scenario.</p>
<p>On the other hand, when building large views that consist of large chunks of html with some custom components and directives, Vue templates are a better fit.</p>
<p>Luckily, we donâ€™t need to pick one, we can use both! Iâ€™ll be my low-level components with JSX, and the â€œviewsâ€, which will be written by other developers, will be writting with familiar Vue templates.</p>
<p>I suppose Iâ€™ll see how this all goes, only one way to find out! If I encounter a bunch tradeoffs in the coming months, expect a follow-up post about why I reverted back to <code>.vue</code> files.</p>
</blockquote>
</blockquote>
<p>è¿™é‡Œå†ä»‹ç»ä¸€ä¸ªvueé€‰é¡¹é‡Œçš„</p>
<h4 id="rendererror"><a href="https://cn.vuejs.org/v2/api/index.html#renderError">renderError</a></h4>
<blockquote>
<blockquote>
<p>2.2.0 æ–°å¢</p>
</blockquote>
<ul>
<li>
<p><strong>ç±»å‹</strong>ï¼š<code>(createElement: () =&gt; VNode, error: Error) =&gt; VNode</code></p>
</li>
<li>
<p><strong>è¯¦ç»†</strong>ï¼š</p>
<p><strong>åªåœ¨å¼€å‘è€…ç¯å¢ƒä¸‹å·¥ä½œã€‚</strong></p>
<p>å½“ <code>render</code> å‡½æ•°é­é‡é”™è¯¯æ—¶ï¼Œæä¾›å¦å¤–ä¸€ç§æ¸²æŸ“è¾“å‡ºã€‚å…¶é”™è¯¯å°†ä¼šä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’åˆ° <code>renderError</code>ã€‚è¿™ä¸ªåŠŸèƒ½é…åˆ hot-reload éå¸¸å®ç”¨ã€‚</p>
</li>
<li>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="language-js">new Vue({
  render (h) {
    throw new Error('oops')
  },
  renderError (h, err) {
    return h('pre', { style: { color: 'red' }}, err.stack)
  }
}).$mount('#app')
</code></pre>
</li>
</ul>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å‡ ä¸ªSEOçš„ç™¾ç§‘ç«™]]></title>
        <id>https://dzkjz.github.io/post/ji-ge-seo-de-bai-ke-zhan/</id>
        <link href="https://dzkjz.github.io/post/ji-ge-seo-de-bai-ke-zhan/">
        </link>
        <updated>2020-08-07T15:55:20.000Z</updated>
        <content type="html"><![CDATA[<p>https://www.matthewwoodward.co.uk/seo/ å»ºè®®</p>
<p>https://backlinko.com/hub/seo å»ºè®®</p>
<p>https://moz.com/learn/seo åˆå­¦è€…å»ºè®®çœ‹è¿™ä¸ªå…ˆã€‚</p>
]]></content>
    </entry>
</feed>