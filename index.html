<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    JojoLegend
</title>
<link rel="shortcut icon" href="https://dzkjz.github.io//favicon.ico?v=1602916459189">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://dzkjz.github.io//styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://dzkjz.github.io//media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://dzkjz.github.io/">
                <img class="avatar" src="https://dzkjz.github.io//images/avatar.png?v=1602916459189" alt="">
            </a>
            <div class="site-title">
                <h1>
                    JojoLegend
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/vue" class="menu">
                                    Vue
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-container main-container">
                <div id="content" class="main-container-left">
                    
        
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/shi-yong-yandex-zuo-yu-ming-you-xiang/">
                        使用Yandex 做域名邮箱
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-10-17</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
第二，点开下拉

第三步：

第4步 add a domain

第5：输入域名

第6选择DNS 验证去域名注册商注册然后验证即可。

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/shi-yong-yandex-zuo-yu-ming-you-xiang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/guan-yu-adsense-de-wen-zhang/">
                        关于adsense的文章
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-10-16</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            为什么最好是写那种流量文，新闻，垃圾文；
首先，如果你的站点是起步做，如果不是瞄准某一个niche，收割很长尾的流量；
那做新闻，热点文，最容易拿到流量。门事件一篇文，总流量1个亿你拿到一点点也许就是niche文的几百倍。
如果做垃圾词堆长尾，这样也能收割很多小流量，百万文章，10万篇来的流量也是很大的。
还有就是图片，下载资源流；但是搞笑流就比较难转，单价比较低。
要么就是小说，电影流。
而如果瞄准做一个类似中药健康保健类的，文章抄抄改改，也可以瞄准热点新闻再伪原创。
游戏类流量也可以。

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/guan-yu-adsense-de-wen-zhang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-eloquent-relationships-xue-xi-ti-gang/">
                        Laravel Eloquent: Relationships学习提纲
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-04</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
带着问题学，文档里介绍的功能在什么情况下使用？这些功能有什么用？具体使用方法直接查看官方文档！

存取器和更改器
如果需要在返回的模型实例数据【返回的array和json api都自动添加上】后追加自定义的存取器值，先定义一个存取器【类似于计算属性】，
   public function getIsAdminAttribute()
    {
        return $this-&amp;gt;attributes[&#39;admin&#39;] === &#39;yes&#39;;
    }

然后再在模型类的appends属性array中，添加存储器的snake属性字符串
class User extends Model
{
    /**
     * The accessors to append to the model&#39;s array form.
     *
     * @var array
     */
    protected $appends = [&#39;is_admin&#39;];
}

属性转换

$casts属性
自定义Cast类
Array &amp;amp; JSON Casting
Date Casting
Query Time Casting


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-eloquent-relationships-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-eloquent-getting-started-xue-xi-ti-gang/">
                        Laravel Eloquent: Getting Started学习提纲
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-04</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
带着问题学，文档里介绍的功能在什么情况下使用？这些功能有什么用？具体使用方法直接查看官方文档！

如果需要对指定模型的查询请求添加全局作用域，可以参考Global Scopes

其内部的apply方法会对今后作用于此模型的查询都起限定作用。

Eloquent的操作会触发一系列的事件，请查看Events

​	Eloquent models fire several events, allowing you to hook into the following points in a model&#39;s lifecycle: retrieved, creating, created, updating, updated, saving, saved, deleting, deleted, restoring, restored. Events allow you to easily execute code each time a specific model class is saved or updated in the database. Each event receives the instance of the model through its constructor.
The retrieved event will fire when an existing model is retrieved from the database. When a new model is saved for the first time, the creating and created events will fire. The updating / updated events will fire when an existing model is modified and the save method is called. The saving / saved events will fire when a model is created or updated.

When issuing a mass update or delete via Eloquent, the saved, updated, deleting, and deleted model events will not be fired for the affected models. This is because the models are never actually retrieved when issuing a mass update or delete.


如果需要监听模型上多个事件，建议代码重新组织，Laravel提供了一个Observer方式，查看Observers

php artisan make:observer UserObserver --model=User


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-eloquent-getting-started-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-redis-xue-xi-ti-gang/">
                        Laravel Redis学习提纲
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-04</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
带着问题学，文档里介绍的功能在什么情况下使用？这些功能有什么用？具体使用方法直接查看官方文档！

Redis 键值存储
配置Redis 需安装扩展包，以及在database.php中配置redis选项。
database.php中的默认配置一般足够应付开发需要。但是也可以自己修改。

可以参考 Configuration

注意 Predis 以及 PhpRedis

If you plan to use PhpRedis extension along with the Redis Facade alias, you should rename it to something else, like RedisManager, to avoid a collision with the Redis class. You can do that in the aliases section of your app.php config file.
&#39;RedisManager&#39; =&amp;gt; Illuminate\Support\Facades\Redis::class,


Interacting With Redis
// Laravel uses magic methods to pass the commands to the Redis server,
// so pass the arguments the Redis command expects:
Redis::set(&#39;name&#39;, &#39;Taylor&#39;);

$values = Redis::lrange(&#39;names&#39;, 5, 10);

// Alternatively, you may also pass commands to the server using the command method,
// which accepts the name of the command as its first argument,
// and an array of values as its second argument:

$values = Redis::command(&#39;lrange&#39;, [&#39;name&#39;, 5, 10]);

// You may get a Redis instance by calling the Redis::connection method:
// This will give you an instance of the default Redis server
$redis = Redis::connection();


// You may also pass the connection or cluster name to the connection method to
// get a specific server or cluster as defined in your Redis configuration:
$redis = Redis::connection(&#39;my-connection&#39;);


// 一次要向redis服务器发送多个命令，建议使用管道
Redis::pipeline(
// 管道方法接受一个闭包作为参数，这个闭包参数是redis实例
    function ($pipe) {
        //把你要执行的命令通过闭包一次发送到redis服务器，提供了更好的性能
    for ($i = 0; $i &amp;lt; 1000; $i++) {
        $pipe-&amp;gt;set(&amp;quot;key:$i&amp;quot;, $i);
    }
});

Pub / Sub
// pub sub 命令 可以于一个指定信道监听获取消息
// 可以从其他应用发消息，甚至使用其他的编程语言 可以在进程、应用之间通信


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-redis-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-database-seeding-xue-xi-ti-gang/">
                        Laravel Database Seeding学习提纲
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-03</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
带着问题学，文档里介绍的功能在什么情况下使用？这些功能有什么用？具体使用方法直接查看官方文档！


Mass assignment protection is automatically disabled during database seeding.


Once you have written your seeder, you may need to regenerate Composer&#39;s autoloader using the dump-autoload command:
composer dump-autoload



                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-database-seeding-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-database-migrations-xue-xi-ti-gang/">
                        Laravel Database Migrations学习提纲
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-03</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
带着问题学，文档里介绍的功能在什么情况下使用？这些功能有什么用？具体使用方法直接查看官方文档！

Migrations就类似于数据包的版本控制。
Creating Columns 创建列
Column Modifiers 修饰列
Modifying Columns 修改列
Dropping Columns删除列
Indexes
$table-&amp;gt;id()-&amp;gt;unique();
$table-&amp;gt;primary(&#39;id&#39;);
$table-&amp;gt;spatialIndex(&#39;location&#39;);//除了sqlite以外的都支持
$table-&amp;gt;primary([&#39;id&#39;, &#39;parent_id&#39;]);
$table-&amp;gt;unique(&#39;email&#39;);
$table-&amp;gt;index([&#39;account_id&#39;, &#39;created_at&#39;]);
$table-&amp;gt;unique(&#39;email&#39;,
    &#39;unique_email&#39;// specify the index name yourself
);
$table-&amp;gt;renameIndex(&#39;from&#39;, &#39;to&#39;);


Foreign Key Constraints
//外键【一个表[users表]上的键[id]出现在别的表[orders表]上，就是外键[user_id]】添加
$table-&amp;gt;foreign(&#39;user_id&#39;)-&amp;gt;references(&#39;id&#39;)-&amp;gt;on(&#39;users&#39;);


//作用同上
$table-&amp;gt;foreignId(&#39;user_id&#39;)//unsignedBigInteger别名
-&amp;gt;constrained();


$table-&amp;gt;foreignId(&#39;user_id&#39;)//unsignedBigInteger别名
-&amp;gt;constrained(&#39;users&#39;)//可以指定表名
-&amp;gt;onDelete(&#39;cascade&#39;)//预期行为
;


$table-&amp;gt;foreignId(&#39;user_id&#39;)//unsignedBigInteger别名
-&amp;gt;nullable()//可在constrained前调用
-&amp;gt;constrained();


$table-&amp;gt;dropForeign(&#39;posts_user_id_foreign&#39;);//删除外键[存放在posts表中的user_id外键]

//也可以
$table-&amp;gt;dropForeign([&#39;user_id&#39;]);


//启动外键约束
// SQLite disables foreign key constraints by default.
// When using SQLite, make sure to enable foreign key support in your
// database configuration before attempting to create them in your migrations.
// In addition, SQLite only supports foreign keys upon creation of the table and not when tables are altered.
Schema::enableForeignKeyConstraints();

//取消外键约束
Schema::disableForeignKeyConstraints();


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-database-migrations-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-database-pagination-xue-xi-ti-gang/">
                        Laravel Database Pagination学习提纲
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-03</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
带着问题学，文档里介绍的功能在什么情况下使用？这些功能有什么用？具体使用方法直接查看官方文档！

默认情况下，分页的当前页码是在http的请求字符串page里的，后端会自动检测到，当然也会由分页器自动给插入到前端。
$users = DB::table(&#39;users&#39;)-&amp;gt;paginate(15);
if ($users) {
    return view(&#39;user.index&#39;, [&#39;users&#39; =&amp;gt; $users]);
}
//分页数据对于groupBy方法结果不太支持【目前】，如果确有需要，请自己实现

$users = DB::table(&#39;users&#39;)-&amp;gt;simplePaginate(15);//前端只需要后一页，前一页的链接数据，而不是分页结果里每一页的链接地址数据


$users = \App\Models\User::paginate(15);

$users = \App\Models\User::where(&#39;votes&#39;, &#39;&amp;gt;&#39;, 100)-&amp;gt;paginate(15);

$users = \App\Models\User::where(&#39;votes&#39;, &#39;&amp;gt;&#39;, 100)-&amp;gt;simplePaginate(15);


//自定义分页器
// Illuminate\Pagination\Paginator[对应simplePaginate方法]
// or
// Illuminate\Pagination\LengthAwarePaginator【对应有paginate方法】


View部分，如果使用laravel的前端，可以查看Customizing The Pagination View详细了解。以及前端的blade模板自定义，blade中paginator方法的调用Paginator Instance Methods。


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-database-pagination-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-database-query-builder-xue-xi-ti-gang/">
                        Laravel Database Query Builder学习提纲
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-03</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
*带着问题学，文档里介绍的功能在什么情况下使用？这些功能有什么用？具体使用方法直接查看官方文档！


The Laravel query builder uses PDO parameter binding to protect your application against SQL injection attacks. There is no need to clean strings being passed as bindings.

//Retrieve single Row
$user = DB::table(&#39;users&#39;)-&amp;gt;where(&#39;name&#39;, &#39;John&#39;)-&amp;gt;first();
echo $user-&amp;gt;name;

//Retrieve single row data&#39;s column value
$email = DB::table(&#39;users&#39;)-&amp;gt;where(&#39;name&#39;, &#39;John&#39;)-&amp;gt;value(&#39;email&#39;);

//Retrieve By ID
$user = DB::table(&#39;users&#39;)-&amp;gt;find(3);


//Retrieve a list of column values
$titles = DB::table(&#39;roles&#39;)-&amp;gt;pluck(&#39;title&#39;);
foreach ($titles as $title) {
    echo $title;
}

//
$roles = DB::table(&#39;roles&#39;)-&amp;gt;pluck(&#39;title&#39;, &#39;name&#39;);
foreach ($roles as $name =&amp;gt; $title) {
    echo $title;
}

//一次取一部分数据，分块获取，每一小块还可放进闭包里处理
DB::table(&#39;users&#39;)-&amp;gt;orderBy(&#39;id&#39;)-&amp;gt;chunk(100, function ($users) {
    foreach ($users as $user) {
        //
    }
});

DB::table(&#39;users&#39;)-&amp;gt;orderBy(&#39;id&#39;)-&amp;gt;chunk(100, function ($users) {
    //处理数据

    return false;//返回false表示停止处理然后退出返回
});


//如果你需要在闭包里处理及更新数据，一遍更新，一边取，如果是按修改时间取，那你修改了的就一直是最新，就一直在修改这一段，
//这个时候，建议使用chunkById方法，会依据数据的primary key排序
DB::table(&#39;users&#39;)-&amp;gt;where(&#39;active&#39;, false)
    -&amp;gt;chunkById(100, function ($users) {
        foreach ($users as $user) {
            DB::table(&#39;users&#39;)-&amp;gt;where(&#39;id&#39;, $user-&amp;gt;id)-&amp;gt;update([&#39;active&#39; =&amp;gt; true]);
        }
    });

//不过还需要注意，如果你的操作是增加或者删除数据，任何对primary key或者外键的修改，会影响chunk query结果。

/** Aggregates */
// count, max, min, avg, sum

$users = DB::table(&#39;users&#39;)-&amp;gt;count();

$price = DB::table(&#39;orders&#39;)-&amp;gt;max(&#39;price&#39;);

$price = DB::table(&#39;orders&#39;)
    -&amp;gt;where(&#39;finalized&#39;, 1)
    -&amp;gt;avg(&#39;price&#39;);

$exists = DB::table(&#39;orders&#39;)-&amp;gt;where(&#39;finalized&#39;, 1)-&amp;gt;exists();
$notExists = DB::table(&#39;orders&#39;)-&amp;gt;where(&#39;finalized&#39;, 1)-&amp;gt;doesntExist();

/** Selects */
$users = DB::table(&#39;users&#39;)-&amp;gt;select(&#39;name&#39;, &#39;email as user_email&#39;)-&amp;gt;get();

//唯一值
$users = DB::table(&#39;users&#39;)-&amp;gt;distinct()-&amp;gt;get();

//追加select限定
$query = DB::table(&#39;users&#39;)-&amp;gt;select(&#39;name&#39;);
$users = $query-&amp;gt;addSelect(&#39;age&#39;)-&amp;gt;get();

//原生 表达式
$users = DB::table(&#39;users&#39;)
    -&amp;gt;select(DB::raw(&#39;count(*) as user_count,status&#39;))//原生语句会以字符串的形式注入到sql query种，一定要避免sql注入
    -&amp;gt;where(&#39;status&#39;, &#39;&amp;lt;&amp;gt;&#39;, 1)
    -&amp;gt;groupBy(&#39;status&#39;)
    -&amp;gt;get();

//selectRaw
$orders = DB::table(&#39;orders&#39;)
    -&amp;gt;selectRaw(&#39;price * ? as price_with_tax&#39;, [1.0825])//接受第二个参数作为第一语句中&#39;?&#39;的绑定值
    -&amp;gt;get();

DB::table(&#39;orders&#39;)
    -&amp;gt;whereRaw(&#39;price &amp;gt; IF(state = &amp;quot;TX&amp;quot;,?,100)&#39;, [200])
    -&amp;gt;get();

DB::table(&#39;orders&#39;)-&amp;gt;select(&#39;department&#39;, DB::raw(&#39;SUM(price) as total_sales&#39;))
    -&amp;gt;groupBy(&#39;department&#39;)
    -&amp;gt;havingRaw(&#39;SUM(price)&amp;gt;?&#39;, [2500]) //haveRaw和orHavingRaw方法可用于将原始字符串设置为having子句的值
    -&amp;gt;get();


//orderByRaw方法可用于将原始字符串设置为order by子句的值：
DB::table(&#39;orders&#39;)-&amp;gt;orderByRaw(&#39;updated_at - created_at DESC&#39;)-&amp;gt;get();

//groupByRaw方法可用于将原始字符串设置为group by子句的值：
DB::table(&#39;orders&#39;)-&amp;gt;select(&#39;city&#39;, &#39;state&#39;)-&amp;gt;groupByRaw(&#39;city,state&#39;)-&amp;gt;get();


//Joins
//Unions
//Where Clauses
//Ordering, Grouping, Limit &amp;amp; Offset
//Conditional Clauses
$role = $request-&amp;gt;input(&#39;role&#39;);
DB::table(&#39;users&#39;)
    -&amp;gt;when($role, function ($query, $role) {
        $query-&amp;gt;where(&#39;role_id&#39;, $role);
    })-&amp;gt;get();
//Inserts
//Updates
//Deletes
//Pessimistic Locking
//Debugging


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-database-query-builder-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-database-xue-xi-ti-gang/">
                        Laravel Database学习提纲
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-03</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
*带着问题学，文档里介绍的功能在什么情况下使用？这些功能有什么用？具体使用方法直接查看官方文档！

Laravel支持多种SQL数据库，如果需要查看每个数据库怎么配置，请查看官方文档Configuration
使用了多个数据库链接的情况下，如果要指定选其中一个链接来处理，可以参考Using Multiple Database Connections

DB facade支持的增删改查方法，详细的请看官方文档Running Raw SQL Queries

Listening For Query Events
每个SQL请求都会触发事件，如果需要log这些query或者debug，可以使用DB::listen方法。

详细请看Listening For Query Events

数据库事务Database Transactions
$users = DB::connection(&#39;mysql&#39;)-&amp;gt;select(&#39;&#39;);

//获取底层的pdo实例
$pdo = DB::connection()-&amp;gt;getPdo();

// The select method will always return an array of results.
// Each result within the array will be a PHP stdClass object,
// allowing you to access the values of the results:
$users = DB::select(&#39;select * from users where active = ?&#39;, [1]);
if ($users) {
    return view(&#39;user.index&#39;, [&#39;users&#39; =&amp;gt; $users]);
}

foreach ($users as $user) {
    echo $user-&amp;gt;name;
}

//Naming bindings

$results = DB::select(&#39;select * from users where id =:id&#39;, [&#39;id&#39; =&amp;gt; 1]);


//insert
DB::insert(&#39;insert into users(id,name) values(?,?)&#39;, [1, &#39;Dayle&#39;]);

//update
$affected = DB::update(&#39;update users set votes = 100 where name= ? &#39;, [&#39;John&#39;]);


//delete
$deleted = DB::delete(&#39;delete from users&#39;); // the number of rows affected will be returned:


//statement
// Some database statements do not return any value.
// For these types of operations, you may use the statement method on the DB facade:
DB::statement(&#39;drop table users&#39;);


//Database Transactions 数据库事务，闭包内事务如果执行异常，会自动回滚处理，如果成功，事务就会自动完成执行
DB::transaction(function () {
    DB::table(&#39;users&#39;)-&amp;gt;update([&#39;votes&#39; =&amp;gt; 1]);
    DB::table(&#39;posts&#39;)-&amp;gt;delete();
});


DB::transaction(function () {
    DB::table(&#39;users&#39;)-&amp;gt;update([&#39;votes&#39; =&amp;gt; 1]);
    DB::table(&#39;posts&#39;)-&amp;gt;delete();
}, 5);//第二个参数作用，如果出现死锁，会最大尝试5次，超次就会抛异常

//手动启动事务执行
DB::beginTransaction();
//手动回滚
DB::rollBack();
//手动提交事务
DB::commit();


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-database-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
                <!-- 翻页 -->
                
    <div class="pagination-container">
        
                
                    <a href="https://dzkjz.github.io/page/2" class="page-btn btn">下一页</a>
                    
    </div>
    
                </div>
                <!--  -->
                <div class="main-container-middle"></div>
                <!--  -->
                <div id="sidebar" class="main-container-right">

                    <!-- 个人信息 -->
                    
    <div class="id_card i-card">
        <div class="id_card-avatar" style="background-image: url(https://dzkjz.github.io//images/avatar.png?v=1602916459189)">
        </div>
        <h1 class="id_card-title">
            JojoLegend
        </h1>
        <h2 class="id_card-description">
            Something for age
        </h2>
        <!--  -->
        <div class="id_card-sns">
            <!-- github -->
            
                    <!-- twitter -->
                    
                            <!-- weibo -->
                            
                                    <!-- facebook -->
                                    

        </div>
    </div>
    

                        <!-- 公告栏 -->
                        

                </div>
            </div>



            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://dzkjz.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
</body>

</html>