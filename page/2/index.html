<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    JojoLegend
</title>
<link rel="shortcut icon" href="https://dzkjz.github.io//favicon.ico?v=1602855902648">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://dzkjz.github.io//styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://dzkjz.github.io//media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://dzkjz.github.io/">
                <img class="avatar" src="https://dzkjz.github.io//images/avatar.png?v=1602855902648" alt="">
            </a>
            <div class="site-title">
                <h1>
                    JojoLegend
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    é¦–é¡µ
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    å½’æ¡£
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    æ ‡ç­¾
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    å…³äº
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/vue" class="menu">
                                    Vue
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-container main-container">
                <div id="content" class="main-container-left">
                    
        
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-queues-xue-xi-ti-gang/">
                        Laravel Queueså­¦ä¹ æçº²
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-02</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
å¸¦ç€é—®é¢˜å­¦ï¼Œæ–‡æ¡£é‡Œä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Ÿè¿™äº›åŠŸèƒ½æœ‰ä»€ä¹ˆç”¨ï¼Ÿå…·ä½“ä½¿ç”¨æ–¹æ³•ç›´æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼

å¦‚æœä½ æœ‰ç‰¹åˆ«æ¶ˆè€—æ—¶é—´çš„ä»»åŠ¡çš„æ—¶å€™ï¼Œæ¯”å¦‚å‘é€é‚®ä»¶ï¼Œè¿™æ—¶å€™ç”¨queueå»¶è¿Ÿä¸€ä¸‹å‘é€æ“ä½œï¼Œå¯¹äºä½ çš„åº”ç”¨æ¥è¯´ï¼Œå¯ä»¥æ€¥å‰§çš„æå‡è¯·æ±‚é€Ÿåº¦ã€‚ã€ç”¨æˆ·ç‚¹å‘é€æŒ‰é’®ï¼Œç„¶ååŠ å…¥queueï¼Œæ•´ä¸ªåº”ç”¨ä¸ä¼šå› ä¸ºå¡åœ¨å‘é€emailè¿‡ç¨‹è€Œé•¿æ—¶é—´ç­‰å¾…ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›ç»™ç”¨æˆ·ï¼Œè¿™æ ·ç”¨æˆ·ä½“éªŒæ¯”è¾ƒå¥½ã€‘
å¦‚æœä½ çš„åº”ç”¨åœ¨ä½¿ç”¨queueçš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šå¤šä¸ªqueueå¤„ç†ä»»åŠ¡ï¼Œæ¯”å¦‚ä¸€ä¸ªqueueç”¨æ¥å­˜ï¼Œä¸€ä¸ªç”¨æ¥å‘smsï¼Œä¸€ä¸ªç”¨æ¥åšç‚¹å…¶ä»–çš„ï¼Œé‚£ä¹ˆå¯ä»¥ç»™æ¯ä¸ªqueueè®¾ç½®æƒé‡ï¼Œæƒé‡è¶Šé«˜çš„è¶Šå…ˆå¤„ç†ã€‚å‚è€ƒ Connections Vs. Queuesæœ€åä¸€æ®µæ–‡æœ¬ã€‚
queue.phpä¸­çš„é©±åŠ¨é…ç½®å¯ä»¥å‚è€ƒDriver Notes &amp;amp; Prerequisites
Creating Jobs
Jobç”¨æ¥è¢«queueå»¶è¿Ÿæ‰§è¡Œçš„ï¼Œä¸»è¦æ˜¯handleæ–¹æ³•ã€‚
jobä¸€èˆ¬æ˜¯è¿™æ ·dispatchè§¦å‘ï¼šdispatchå°±æ˜¯åŠ å…¥åˆ°queueä¸­ï¼›

ä¼ å…¥jobçš„modelä¼šè¢«åºåˆ—åŒ–ï¼Œ

è€Œqueueæœ€åç®¡ç†è°ƒç”¨jobçš„handleæ–¹æ³•ï¼Œæ‰§è¡Œå¤„ç†ã€‚

è¯¦ç»†æŸ¥çœ‹ Class Structure ä»¥åŠ Job Middleware

Dispatching Jobs
è§¦å‘jobæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚
å¦‚æœè¦å¤„ç†ä¸€ä¸ªæ¯”å¦‚ï¼Œå‘é€é‚®ä»¶å®Œæ¯•ä¸”å“åº”ä¼ å›åæ‰æ‰§è¡Œçš„jobï¼Œå¯ä»¥ä½¿ç”¨

è¿™ä¸¤ä¸ªæ–¹æ³•ï¼›
å¦‚æœä¸éœ€è¦åŠ å…¥åˆ°queueè€Œæ˜¯éœ€è¦ç«‹å³å¤„ç†æ‰jobï¼š

å¦‚æœéœ€è¦æ‰§è¡Œä¸€åˆ—è·Ÿéšä»»åŠ¡ï¼š
å‚è€ƒJob Chainingï¼Œæ¯”å¦‚

å½“ç„¶ä¹Ÿå¯ä»¥åœ¨chainé‡ŒåŠ å…¥é—­åŒ…æ‰§è¡Œã€‚

jobå³ä½¿ä½¿ç”¨$this-&amp;gt;delete()åˆ é™¤ï¼Œä¹Ÿä¸ä¼šé˜»æ­¢chainedçš„jobè¢«æ‰§è¡Œï¼Œé™¤éjob chainé‡Œé¢æœ‰failã€‚

chainçš„jobsä¹Ÿå¯ä»¥æŒ‡å®šconnectionå’Œqueueé©±åŠ¨æ‰§è¡Œï¼Œå½“ç„¶ï¼Œå¦‚æœchainé‡Œé¢çš„jobæ˜¾å¼æŒ‡å®šè¿‡queueæˆ–è€…connectionï¼Œé‚£ä¹ˆè¯¥jobä¼šä½¿ç”¨å…¶æŒ‡å®šçš„queueæˆ–connectionã€‚

å¦‚æœéœ€è¦å¯¹jobåšç­‰å¾…è¶…æ—¶ï¼Œæ‰§è¡Œè¶…æ—¶ï¼Œè¶…æ¬¡é™åˆ¶ï¼Œé¢‘ç‡é™åˆ¶ï¼Œè¯·æŸ¥çœ‹ Specifying Max Job Attempts / Timeout Values

å¦‚æœä¸€ä¸ªqueuedçš„jobæ­£åœ¨ä¿®æ”¹ä¸€ä¸ªèµ„æºï¼Œä½†æ˜¯è¿™ä¸ªèµ„æºåŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªjobå»ä¿®æ”¹ç¼–è¾‘ï¼Œé‚£ä¹ˆéœ€è¦é™åˆ¶æœ€å¤§çš„å·¥ä½œjobè¿›ç¨‹ã€‚

è¯·ä½¿ç”¨funnelåšé™åˆ¶ ï¼Œå‚è€ƒRate Limiting

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåšäº†è¿™ä¹ˆå¤šé™åˆ¶ä¹‹åï¼Œæ‰§è¡ŒæˆåŠŸåˆ°åº•éœ€è¦å¤šå°‘æ¬¡å°è¯•å°±å¾ˆéš¾åˆ¤æ–­äº†ï¼Œå› æ­¤ï¼Œç»“åˆä¸€ä¸ªå»¶æ—¶è®¾ç½®ã€ time based attemptsã€‘ä¼šæ¯”è¾ƒæœ‰ç”¨ã€‚
Queueing Closures
ä¸æƒ³å†™jobï¼Œæˆ–è€…jobæ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥queueä¸€ä¸ªé—­åŒ…ï¼Œé€»è¾‘å†™é—­åŒ…é‡Œé¢å°±è¡Œã€‚
Running The Queue Worker
php artisan queue:work

æ‰§è¡Œå¯åŠ¨äº†queueä¹‹åï¼Œä¼šä¸€ç›´åœ¨åå°æ‰§è¡Œï¼Œä½†æ˜¯ä»£ç çš„ä»»ä½•ä¿®æ”¹ï¼Œworkä¸ä¼šæœ‰ååº”ï¼Œæ‰€ä»¥éƒ¨ç½²åï¼Œè®°å¾—é‡å¯ä¸€ä¸‹ã€‚
ä¸è¿‡php artisan queue:listenå¯ä»¥ä¾¦å¬ä»£ç å˜åŒ–ï¼Œä¸ç”¨é‡å¯queueï¼Œä½†æ˜¯listenæ²¡æœ‰worké«˜æ•ˆã€‚
php artisan queue:work redis --queue=emails

rediså°±æ˜¯æŒ‡å®šçš„queue connectionï¼Œemailså°±æ˜¯æŒ‡å®šçš„queueã€‚
æ›´å¤šçš„queue å‘½ä»¤è¡Œæ“ä½œå‚æ•°æ¯”å¦‚æƒé‡ï¼Œå•æ¬¡å¤„ç†ï¼Œåœæ­¢ï¼Œå‚è€ƒRunning The Queue Worker
è¯·æ³¨æ„ï¼š

The queue uses the cache to store restart signals, so you should verify a cache driver is properly configured for your application before using this feature.

Job Expirations &amp;amp; Timeouts
åœ¨æ‚¨çš„config / queue.phpé…ç½®æ–‡ä»¶ä¸­ï¼Œæ¯ä¸ªé˜Ÿåˆ—è¿æ¥å®šä¹‰ä¸€ä¸ªretry_afteré€‰é¡¹ã€‚
è¯¥é€‰é¡¹æŒ‡å®šé˜Ÿåˆ—è¿æ¥åœ¨é‡è¯•æ­£åœ¨å¤„ç†çš„ä½œä¸šä¹‹å‰åº”ç­‰å¾…çš„ç§’æ•°ã€‚
ä¾‹å¦‚ï¼Œå¦‚æœretry_afterçš„å€¼è®¾ç½®ä¸º90ï¼Œåˆ™è¯¥jobå¦‚æœå·²å¤„ç†90ç§’ä½†æœªåˆ é™¤ï¼Œåˆ™å°†å…¶é‡Šæ”¾å›åˆ°é˜Ÿåˆ—ä¸­ã€‚
Supervisor Configuration
å¦‚æœæœ‰éœ€è¦é…ç½®Supervisorï¼Œå‚è€ƒè¿™ä¸ªSupervisor Configuration
Dealing With Failed Jobs
å¤±è´¥jobé‡è¯•ï¼Œå¤±è´¥jobè®°å½•åˆ°æ•°æ®è¡¨ï¼Œå¤±è´¥jobæ¸…ç†ï¼Œä¾¦å¬å¤±è´¥jobè§¦å‘çš„äº‹ä»¶ï¼Œ
å¦‚æœä¼ å…¥jobä¸­çš„Eloquentæ¨¡å‹åœ¨jobè¢«processingå‰åˆ é™¤äº†ï¼Œjobä¼šæŠ›å‡ºå¼‚å¸¸ ModelNotFoundExceptionï¼Œé»˜è®¤å¯ä»¥åœ¨jobç±»ä¸­çš„å¤„ç†ï¼Œå‚è€ƒIgnoring Missing Models
Job Events
å¦‚æœéœ€è¦åœ¨queue jobæ‰§è¡Œå‰ååšä¸€äº›loggingæˆ–è€…çŠ¶æ€çš„ç¼–è¾‘è®°å½•ï¼Œå¯ä»¥å‚è€ƒJob Eventsï¼Œä¸»è¦æ˜¯queue facadeçš„beforeå’Œafteræ–¹æ³•çš„è°ƒç”¨ï¼Œä»¥åŠä¸€ä¸ªä¼ å…¥JobProcessingæˆ–JobProcessedç±»å‹äº‹ä»¶å‚æ•°çš„é—­åŒ…ã€‚
è¿˜å¯ä»¥åœ¨workerå°è¯•ä»queueä¸­å–ä¸€ä¸ªjobä¹‹å‰ï¼Œæ‰§è¡Œä¸€äº›é€»è¾‘ã€‚æ¯æ¬¡å–ä¹‹å‰éƒ½ä¼šæ‰§è¡Œã€‚

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-queues-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-package-development-xue-xi-ti-gang/">
                        Laravel Package Developmentå­¦ä¹ æçº²
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-02</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
å¸¦ç€é—®é¢˜å­¦ï¼Œæ–‡æ¡£é‡Œä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Ÿè¿™äº›åŠŸèƒ½æœ‰ä»€ä¹ˆç”¨ï¼Ÿå…·ä½“ä½¿ç”¨æ–¹æ³•ç›´æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼

å¼€å‘åŒ…ä¸»è¦æ˜¯ç»™Laravelæä¾›åŠŸèƒ½ã€‚

æœ‰äº›å¤§ä½¬å¼€å‘çš„åŒ…ï¼Œæ˜¯ç‹¬ç«‹çš„ï¼Œä»»ä½•PHP æ¡†æ¶éƒ½å¯ä»¥ç”¨ï¼Œ
æœ‰çš„åŒ…å°±å¿…é¡»åœ¨Laravelæ¡†æ¶æ‰èƒ½ç”¨ï¼ŒåŒ…é‡Œå¯èƒ½æœ‰routes controllers views ä»¥åŠconfigurationä¹‹ç±»çš„ï¼ŒåŒ…åªæ˜¯é’ˆå¯¹LaravelåŠŸèƒ½çš„ã€‚
Laravelä¸­ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±æ˜¯è®¾ç½®åœ¨composer.jsonæ–‡ä»¶ä¸­ï¼›

æ‰©å±•åŒ…é‡Œçš„servicer provideré™¤äº†ç”¨æˆ·æ‰‹åŠ¨æ³¨å†Œåœ¨app.phpçš„providersé‡Œé¢ï¼Œè¿˜å¯ä»¥å‚è€ƒPackage Discoveryè‡ªåŠ¨å¤„ç†ã€‚
å¼€å‘åŒ…å¦‚æœæœ‰ä»¥ä¸‹çš„éƒ¨åˆ†ï¼Œä»£ç å†™å®Œåï¼Œå¦‚ä½•é…ç½®å’Œå‘å¸ƒå¯ä»¥å‚è€ƒï¼š

Resources
Configuration
Migrations
Factories
Routes
Translations
Views
View Components
Commands
Public Assets
Publishing File Groups


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-package-development-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-notifications-xue-xi-ti-gang/">
                        Laravel Notificationså­¦ä¹ æçº²
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-01</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
å¸¦ç€é—®é¢˜å­¦ï¼Œæ–‡æ¡£é‡Œä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Ÿè¿™äº›åŠŸèƒ½æœ‰ä»€ä¹ˆç”¨ï¼Ÿå…·ä½“ä½¿ç”¨æ–¹æ³•ç›´æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼

Notificationä¸»è¦ç”¨æ¥å‘é€ç®€æ´çš„é€šçŸ¥ï¼Œå‘ŠçŸ¥ï¼Œæ¯”å¦‚ä»˜æ¬¾æˆåŠŸä¹‹ç±»çš„ï¼ŒLaravelæ”¯æŒmailï¼ŒSMSï¼ŒSlackæ–¹å¼çš„æ¨é€é€šçŸ¥ç»™ç”¨æˆ·ã€‚è€Œä¸”å› ä¸ºNotificationä¹Ÿå¯ç”¨æ¥æ˜¾ç¤ºåœ¨webé¡µé¢ä¸Šï¼Œæ‰€ä»¥Notificationä¹Ÿå¯ä»¥è¢«å­˜åœ¨æ•°æ®åº“ä¸­ã€‚

åˆ›å»ºé€šçŸ¥å‚è€ƒCreating Notifications

Modelç±»å¦‚æœéœ€è¦æ”¯æŒè¢«é€šçŸ¥ï¼Œé‚£è¯·ä½¿ç”¨Notifiable traitï¼Œä¸åªUser modelå¯ä»¥æ”¯æŒï¼Œåªè¦éœ€è¦ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªtraitã€‚

ä½¿ç”¨æ–¹æ³•å‚è€ƒUsing The Notifiable Trait

å¦‚æœæ˜¯å‘é€ç»™ä¸€ç»„ç”¨æˆ·æˆ–è€…è¢«é€šçŸ¥çš„Modelå®ä¾‹ç»„ï¼Œé‚£å¯ä»¥ä½¿ç”¨Notification facadeçš„sendæ–¹æ³•ã€‚

ä½¿ç”¨æ–¹æ³•å…·ä½“å‚è€ƒUsing The Notification Facade

å› ä¸ºNotificationså‘é€æ—¶éœ€è¦æ¶ˆè€—æ—¶é—´çš„ï¼Œç‰¹åˆ«æ˜¯è¿˜è¦è°ƒç”¨å¤–éƒ¨APIæ¥å‘é€çš„åœºæ™¯ä¸‹ï¼Œé‚£ä¹ˆè¯·å¯ç”¨Queueï¼›ã€å°±æ˜¯ implements the ShouldQueueï¼Œä½†æ˜¯ä½¿ç”¨è¿˜æ˜¯å’Œå¹³å¸¸ä¸€æ ·ã€‘

å…·ä½“å‚è€ƒQueueing Notifications

å› ä¸ºNotificationçš„viaæ–¹æ³•æ˜¯æ”¯æŒè¿”å›ä¸€ç»„æ•°ç»„--å¦‚[&#39;mail&#39;,&#39;slack&#39;]
å°±æ˜¯è¿™ä¸ªé€šçŸ¥å‘é€å°†ä½¿ç”¨[&#39;mail&#39;,&#39;slack&#39;]ä¸¤ä¸ªæ¸ é“ï¼Œè€Œä½¿ç”¨queueæ¥å¤„ç†å‘é€çš„æ—¶å€™ï¼Œå¯ä»¥é’ˆå¯¹è¿™ä¸¤ä¸ªæ¸ é“ï¼Œåˆ†åˆ«æŒ‡å®šä¸åŒçš„queueå¤„ç†ã€‚

å…·ä½“å‚è€ƒQueueing Notificationsçš„Customizing Notification Channel Queueséƒ¨åˆ†

å¦‚æœéœ€è¦æä¸€ä¸ªæŒ‰éœ€é€šçŸ¥ï¼Œå¯ä»¥ä½¿ç”¨Notification::routeæ–¹æ³•ã€‚

å…·ä½“å‚è€ƒOn-Demand Notifications

å¦‚æœéœ€è¦æ›´æ”¹Mail Notificationçš„Headerå’ŒFooterçš„nameå€¼ï¼Œè¯·åœ¨config/app.phpä¸­è®¾ç½®nameï¼›

å¦‚æœéœ€è¦äº†è§£æ€ä¹ˆå†™ä¸€ä¸ªNotification Email ä»¥åŠæ›´å¤šçš„æ–¹æ³• è¯·å‚è€ƒMail Notifications


å¦‚æœéœ€è¦è‡ªå®šä¹‰Mail Notificationæˆ–æœ‰æ›´å¤šçš„é…ç½®éœ€æ±‚ï¼Œå¯ä»¥æŸ¥çœ‹
Customizing The Sender
Customizing The Recipient
Customizing The Subject
Customizing The Mailer
å¦‚æœéœ€è¦å¯¹é»˜è®¤ç»™çš„Notificationé‚®ä»¶æ¨¡æ¿åšä¸€äº›è‡ªå®šä¹‰ä¿®æ”¹ï¼Œå‚è€ƒCustomizing The Templates
å¦‚æœéœ€è¦é¢„è§ˆNotification Mailï¼Œå¯ä»¥å‚è€ƒPreviewing Mail Notifications
æ¯ä¸ªå°±æ˜¯ä¸€ä¸ªæ–¹æ³•çš„è®²è§£è€Œå·²ã€‚å¾ˆç®€å•

Markdown Mail Notifications
å’ŒMail Notificationå·®ä¸å¤šï¼Œåªæ˜¯ä¸å†ä½¿ç”¨actionæˆ–è€…lineæ–¹æ³•è°ƒç”¨æ¥ç”Ÿæˆé‚®ä»¶å†…å®¹ï¼Œè€Œæ˜¯ä¸€ä¸ªmarkdownæ–¹æ³•è°ƒç”¨ã€‚

å…·ä½“å‚è€ƒ Generating The Message

è€Œå¦‚æœè¦ä¿®æ”¹é‚®ä»¶å†…å®¹ï¼Œå°±éœ€è¦å‰é¢ä¿®æ”¹ç¼–è¾‘markdownæ–‡ä»¶äº†ï¼›

å¦‚ä½•ä½¿ç”¨å‚è€ƒ  Writing The Message


è€Œæ¯ä¸€ä¸ªç»„ä»¶çš„ä¿®æ”¹ç¼–è¾‘å‚è€ƒCustomizing The Componentsï¼Œå…¶å®ä¹‹å‰å­¦ä¹ Emailçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯è¿™ä¸ªï¼›

Database Notifications
ä¸»è¦æ˜¯notificationå¦‚æœéœ€è¦æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œè¿™æ ·å°±ä¼šç”¨åˆ°databaseã€‚æ¯”å¦‚ç”¨æˆ·ç™»å½•äº†ï¼Œå°±åœ¨dashbroadé¡µé¢ç»™æ˜¾ç¤ºnotificationsã€‚
å‚è€ƒPrerequisitesï¼Œå…ˆæ‰§è¡Œï¼š
php artisan notifications:table

php artisan migrate

ç”Ÿæˆnotificationçš„æ•°æ®è¡¨ã€‚

å®šä¹‰è¢«å­˜å‚¨ä¸‹æ¥çš„æ•°æ®ï¼Œè¯·å‚è€ƒFormatting Database Notifications


å­˜å‚¨ä¸‹æ¥çš„notificationsæ•°æ®ï¼Œè¦å±•ç¤ºå‡ºæ¥çš„æ—¶å€™ï¼Œè¯·å‚è€ƒAccessing The Notifications


ç°å®ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªNotification Controllerï¼Œè¿™æ ·è¦ä»jså®¢æˆ·ç«¯è®¿é—®è¿™ä¸ªnotifiableå®ä½“ã€æ¯”å¦‚å½“å‰userã€‘çš„notificationsæ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥ä»jså®¢æˆ·ç«¯å‘åç«¯çš„è¿™ä¸ªcontrolleræ‰§è¡Œä¸€ä¸ªHTTPè¯·æ±‚è·å–ã€‚


å…¶ä»–çš„æ ‡æ³¨å·²è¯»ï¼Œæ‰¹é‡æ ‡æ³¨å·²è¯»ï¼Œæ‰¹é‡æ›´æ–°ï¼Œæ‰¹é‡åˆ é™¤ï¼Œè¯·æŸ¥é˜…Marking Notifications As Read

Broadcast Notifications
è¿™ä¸ªç”¨å°±å¾ˆç‰›äº†ï¼Œå¯ä»¥åšæˆèŠå¤©å®¤å¼çš„å¹¿æ’­å‘ŠçŸ¥ã€æ¸¸æˆé‡Œçš„å¤§å–‡å­å¼ï¼Œå…¨ç«™é€ç¤¼ç‰©é€šçŸ¥ã€‘ã€‚å‰ç«¯åç«¯éƒ½éœ€è¦å‚è€ƒBroadcastingåšä¸€äº›è®¾ç½®ã€‚
SMS Notifications
å¦‚æœæœ‰éœ€è¦æä¸€ä¸ªçŸ­ä¿¡é€šçŸ¥ï¼Œé‚£å¯ä»¥å‚è€ƒè¿™ä¸ªå®˜æ–¹æ–‡æ¡£SMS Notificationsåšä¸€äº›è®¾ç½®å’Œä¿®æ”¹ã€‚
Slack Notifications
Slackå¯ä»¥ç”¨åˆ°ååŒåŠå…¬å’Œå…¬å…±ç•™è¨€æ¿ä¹‹ç±»çš„ï¼Œæ”¯æŒå¾ˆå¤šappï¼Œå¦‚æœéœ€è¦è¿™ä¸ªå¯ä»¥çœ‹çœ‹å®˜æ–¹æ–‡æ¡£å¦‚ä½•é…ç½®ã€‚
Localizing Notifications
è¯­è¨€æœ¬åœ°åŒ–ï¼›
Notification Events
åœ¨notificationè¢«å‘é€åï¼Œä¼šè§¦å‘ç›¸å…³çš„äº‹ä»¶ï¼Œå¦‚æœéœ€è¦äº†è§£ï¼Œè¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£
Custom Channels
Laravelä»¥åŠæä¾›äº†å¾ˆå¤šNotificationå‘é€çš„ä¿¡é“ï¼Œå¦‚æœè¿˜æœ‰æ›´å¤šéœ€æ±‚æ¥ä¼ è¾“ä½ çš„Notificationï¼Œé‚£ä¹ˆå¯ä»¥å‚è€ƒæ­¤éƒ¨åˆ†æ–‡æ¡£ï¼šCustom Channelsã€‚

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-notifications-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-mail-xue-xi-ti-gang/">
                        Laravel Mailå­¦ä¹ æçº²
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-01</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
å¸¦ç€é—®é¢˜å­¦ï¼Œæ–‡æ¡£é‡Œä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Ÿè¿™äº›åŠŸèƒ½æœ‰ä»€ä¹ˆç”¨ï¼Ÿå…·ä½“ä½¿ç”¨æ–¹æ³•ç›´æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼

Mailä¸ç”¨è¯´ï¼Œå°±æ˜¯å‘é‚®ä»¶çš„æ—¶å€™ä½¿ç”¨ï¼Œé‚£ä¹ˆå®˜æ–¹æ–‡æ¡£é‡Œä»‹ç»çš„åŠŸèƒ½ï¼Œå°±åº”è¯¥ä¸»è¦æ€è€ƒï¼Œå‘é‚®ä»¶éœ€è¦ä»€ä¹ˆåŠŸèƒ½çš„æ—¶å€™æ‰èƒ½å¤Ÿç”¨ä¸Šï¼Ÿ
è€Œè¿™ç§åœºæ™¯ä¸‹è¦ç”¨çš„åŠŸèƒ½ï¼Œå…·ä½“æ€ä¹ˆé…ç½®ï¼Œä½¿ç”¨æ–¹æ³•å°±ä¸ä»‹ç»ï¼Œéœ€è¦çš„æ—¶å€™å‚é˜…å®˜æ–¹æ–‡æ¡£ã€‚ ä¸»è¦æ€è€ƒçš„æ˜¯ä½¿ç”¨åœºæ™¯ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ–¹æ³•ã€‚
Driver
å¦‚æœéœ€è¦çš„æ˜¯æ›´åŠ ç®€ä¾¿å¿«æ·çš„Emailå‘é€æœåŠ¡å™¨ï¼Œæ¯”SMTPæ›´å¿«çš„ï¼Œé‚£å°±æ˜¯APIå¼çš„æœåŠ¡å™¨ï¼Œæ¯”å¦‚MailGunæˆ–è€…Postmarkã€‚

Mailgunå’ŒPostmarkçš„é…ç½®ä½¿ç”¨å‚è€ƒDriver Prerequisites

å¦‚æœéœ€è¦Amazon SESé©±åŠ¨å¯ä»¥å‚è€ƒDriver Prerequisites
Mailables

Laravelå‘å‡ºçš„Emailï¼Œå°±æ˜¯è¢«å«åšå¯é‚®ä»¶åŒ–çš„ç±»ã€‚
éœ€è¦ç”Ÿæˆè¿™ä¸ªç±»ï¼Œè¯·å‚è€ƒGenerating Mailables
å…·ä½“å¦‚ä½•ç¼–è¾‘è¿™ä¸ªç±»ï¼Œè¯·å‚è€ƒWriting Mailables

å¦‚æœéœ€è¦åœ¨é‚®ä»¶å‘é€å‰ï¼Œå†æ‰§è¡ŒæŸäº›è‡ªå®šä¹‰ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨withSwiftMessageæ–¹æ³•ã€‚
MarkDown Mailables

ç›´æ¥æœ‰é¢„ç½®æ¨¡æ¿ï¼Œè€Œä¸”åŒæ—¶å¯ä»¥ç”Ÿæˆå“åº”å¼HTMLæ¨¡æ¿å’Œå¯¹åº”çš„çº¯æ–‡æœ¬é‚®ä»¶å†…å®¹ã€‚ä½¿ç”¨å‚è€ƒMarkdown Mailables


Markdownå¯é‚®é€’ç±»ï¼Œç»“åˆäº†Bladeç»„ä»¶å’ŒMarkdownè¯­æ³•ã€‚
ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMarkdownè§£æå™¨ä¼šæŠŠç¼©è¿›ç»™è§£æä¸ºä»£ç å—ï¼Œæ‰€ä»¥ä¸è¦CTRL+SHIFT+Låšä»£ç æ ¼å¼åŒ–ã€‚

é¢„åˆ¶çš„buttonç»„ä»¶ï¼ŒPanelç»„ä»¶ï¼ŒTableç»„ä»¶ç­‰ç›´æ¥å¼€ç®±å¯ç”¨ï¼Œéœ€è¦äº†è§£å¯ä»¥å‚è€ƒ Writing Markdown Messages
å¾ˆå¤šæƒ…å†µä¸‹ï¼Œé‚®ä»¶è¦åšä¸ªè‡ªå®šä¹‰çš„æ ·å¼ï¼Œé‚£ä¹ˆå‚è€ƒCustomizing The Components
æœ‰éœ€è¦queue å‘é€Mailçš„ï¼Œå¯ä»¥å‚è€ƒQueueing Mail
å¦‚æœéœ€è¦ä¸å‘å‡ºé‚®ä»¶ä½†æ˜¯æŸ¥çœ‹ä»¥æ–‡æœ¬æ ·å¼æ¸²æŸ“å‡ºæ¥çš„Mailï¼Œå¯ä»¥å‚è€ƒRendering Mailables
æµ‹è¯•å‘é€é‚®ä»¶ï¼Œå¦‚æœä¸æ˜¯å‘é€åˆ°çœŸåœ°å€æ¥çœ‹æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨log é‚®ä»¶é©±åŠ¨ï¼ŒæŠŠé‚®ä»¶å‘å‡ºå­˜åˆ°logæ–‡ä»¶é‡Œé¢ï¼›æˆ–è€…åœ¨mail.phpæ–‡ä»¶ä¸­è®¾ç½®ä¸€ä¸ªå…¨å±€çš„toåœ°å€ï¼Œæˆ–è€…ä½¿ç”¨Mailtrapï¼Œè¿™ä¸ªä¹Ÿæ˜¯æ¯”è¾ƒå»ºè®®çš„ã€‚
Events
é‚®ä»¶çš„å‘é€ä¼šè§¦å‘ä¸€ç³»åˆ—çš„äº‹ä»¶ï¼Œè¯¦ç»†å‚è€ƒEvents

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-mail-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-http-client-xue-xi-ti-gang/">
                        Laravel HTTP Client å­¦ä¹ æçº²
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-01</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
å¸¦ç€é—®é¢˜å­¦ï¼Œæ–‡æ¡£é‡Œä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Ÿè¿™äº›åŠŸèƒ½æœ‰ä»€ä¹ˆç”¨ï¼Ÿå…·ä½“ä½¿ç”¨æ–¹æ³•ç›´æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼

å¦‚æœæœ‰éœ€è¦å‘å¤–å‘é€HTTPè¯·æ±‚ï¼Œå› ä¸ºLaravelåŒ…è£¹äº†Guzzleï¼Œå¯ä»¥æ‰§è¡ŒHTTPè¯·æ±‚å¤„ç†ã€‚ä¸è¿‡éœ€è¦æå‰æ‰§è¡Œcomposer require guzzlehttp/guzzleå®‰è£…ã€‚
å¯¹äºåŒ…å«çš„guzzleè¯·æ±‚ï¼Œå“åº”ç»“æœå¤„ç†ï¼Œå¼‚å¸¸å¤„ç†ï¼Œå’Œå‘é€æ–¹æ³•ï¼Œä»¥åŠHttpä½¿ç”¨fakeæ–¹æ³•æµ‹è¯•åŠassetæ–­è¨€ï¼Œéƒ½å‚è€ƒå®˜æ–¹æ–‡æ¡£

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-http-client-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-file-storagefilesystem-xue-xi-ti-gang/">
                        Laravel File Storage[FileSystem] å­¦ä¹ æçº²
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-09-01</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
å¸¦ç€é—®é¢˜å­¦ï¼Œæ–‡æ¡£é‡Œä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Ÿè¿™äº›åŠŸèƒ½æœ‰ä»€ä¹ˆç”¨ï¼Ÿå…·ä½“ä½¿ç”¨æ–¹æ³•ç›´æ¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼


â€‹	Laravelæä¾›äº†å¼ºå¤§çš„æ–‡ä»¶æŠ½è±¡ç‰¹æ€§ã€‚


å¯¹äºæ–‡ä»¶å­˜å–ï¼Œæ–‡ä»¶å¤¹å­˜å–ï¼Œdiské…ç½®ï¼Œä¸Requestäº¤äº’ï¼Œæ–‡ä»¶æ•°æ®æ›´æ–°ï¼Œè¿½åŠ æ•°æ®ï¼Œæ–‡ä»¶å±æ€§ä¿¡æ¯è·å–ï¼Œæ–‡ä»¶URLè·å–ä¸é…ç½®ï¼Œä»¥åŠè‡ªå®šä¹‰æ–‡ä»¶ç³»ç»Ÿï¼Œè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-file-storagefilesystem-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-collection-xue-xi-ti-gang/">
                        Laravel Collection å­¦ä¹ æçº²
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-08-31</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
å¸¦ç€é—®é¢˜å­¦ä¹ ï¼Œæ–‡æ¡£ä¸Šä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨ï¼Ÿç”¨æ¥åšä»€ä¹ˆï¼Ÿå…·ä½“çš„ç”¨æ³•è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£



Collectionä¸»è¦æ˜¯ç”¨æ¥æä¾›æ›´æ–¹ä¾¿çš„æ–¹æ³•å¤„ç†arrayæ•°æ®çš„ï¼›


å¹¶ä¸”collectioné‡Œæ–¹æ³•éƒ½æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„collectionå®ä¾‹ï¼Œæ„å‘³ç€å¯ä»¥å†™å‡ºé¢æ¡ä»£ç ï¼Œè€ŒåŸæ¥çš„åº•å±‚æ•°æ®å°±ä¸ä¼šè¢«ä¿®æ”¹ï¼Œå°±ä¼šå®Œæ•´çš„ä¿ç•™ä¸‹æ¥ã€‚


EloquentæŸ¥è¯¢çš„ç»“æœåŸºæœ¬ä¸Šä¹Ÿæ˜¯è¿”å›çš„collectionå®ä¾‹ã€‚



Collectionæœ‰å¾ˆå¤šçš„æ–¹æ³•ï¼ŒæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£Available Methods

Higher Order Messages

å¹³æ—¶çš„æ–¹æ³•ï¼š
$users = User::where(&#39;votes&#39;, &#39;&amp;gt;&#39;, 500)-&amp;gt;get();

$users-&amp;gt;each(function($item,$key){
    $item-&amp;gt;markAsVip();
});

å¦‚eachï¼š
$users = User::where(&#39;votes&#39;, &#39;&amp;gt;&#39;, 500)-&amp;gt;get();

$users-&amp;gt;each-&amp;gt;markAsVip();


LazyCollection
å¯¹äºéœ€è¦è¯»å–å¤§æ–‡ä»¶ï¼Œæ•°æ®é‡æ¯”è¾ƒå¤§çš„æ•°æ®ã€10ä¸‡æ¡Eloquentæ¨¡å‹æ•°æ®ã€‘åˆ°collectioné‡Œé¢ï¼Œå¯ä»¥ç”¨LazyCollectionï¼Œåº•å±‚ä¸»è¦æ˜¯PHP yieldï¼Œè¿™æ ·ä¸ç”¨ä¸€æ¬¡æ€§è¯»å–å®Œåˆ°å†…å­˜ï¼Œè€Œæ˜¯ä¸€æ¬¡ä¸€å–ä¸€è¯»ã€‚

å¦‚æœ10ä¸‡æ¡æ•°æ®ä¸€æ¬¡ç”¨è¿™ç§æ–¹å¼è¯»å–ï¼Œé‚£å†…å­˜å ç”¨å¤ªå¤§äº†ï¼š
$users = App\User::all()-&amp;gt;filter(function ($user) {
 return $user-&amp;gt;id &amp;gt; 500;
});

Eloquentæœ‰ä¸€ä¸ªcursoræ–¹æ³•è¿”å›çš„æ˜¯LazyCollectionå®ä¾‹ï¼Œä¸€æ¬¡è¯»å–ä¸€æ¡ï¼Œè¿™æ ·å†…å­˜ä¸ä¼šå¡çˆ†ï¼š

$users = App\User::cursor()-&amp;gt;filter(function ($user) {
return $user-&amp;gt;id &amp;gt; 500;
});

foreach ($users as $user) {
echo $user-&amp;gt;id;
}


å½“ç„¶ï¼Œfilteræ–¹æ³•å¹¶ä¸ä¼šåœ¨foreachä¹‹å‰å°±æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨foreachä¸­æ¯æ¬¡è¿­ä»£çš„æ—¶å€™æ‰§è¡Œã€‚

LazyCollection æœ‰2ä¸ªä¸Collectionä¸åŒçš„æ–¹æ³•å¯ä»¥çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£Lazy Collection Methods

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-collection-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-cache-xue-xi-ti-gang/">
                        Laravel Cacheå­¦ä¹ æçº²
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-08-30</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            
å¸¦ç€é—®é¢˜å­¦ï¼šæ–‡æ¡£ä¸Šä»‹ç»çš„åŠŸèƒ½åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ


ä¸€èˆ¬å»ºè®®ä½¿ç”¨Memcachedæˆ–è€…Redisã€‚

Cacheä½¿ç”¨æ–¹æ³•

Cacheçš„å¢åˆ æ”¹æŸ¥å…·ä½“ä½¿ç”¨æ–¹æ³•ï¼Œè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚
åˆ©ç”¨Mockæ–¹å¼è¿›è¡ŒCacheæµ‹è¯•çš„æ—¶å€™ï¼Œéœ€è¦è°ƒç”¨Cache::shouldReceiveæ–¹æ³•æä¾›å€¼ã€‚

Cache Tags
ç»™ä¸€å †çš„Cacheå€¼åˆ†ç»„æ‰“æ ‡ç­¾éœ€ç”¨åˆ°Cache Tagsã€‚

Cache Tags ä¸è¢«file ã€dynamodbåŠ databaseé©±åŠ¨æ‰€æ”¯æŒï¼Œç‰¹åˆ«æ˜¯å¦‚æœéœ€è¦ä½¿ç”¨å¤šTagsçš„æ°¸ä¹…å­˜å‚¨ï¼Œmemcachedé©±åŠ¨æ—¶æœ€ä¼˜é€‰æ‹©ï¼Œæ€§èƒ½æœ€å¥½ï¼Œå¹¶è‡ªåŠ¨æ¸…æ¥šé™ˆæ—§è®°å½•å€¼ã€‚


Cache Tagsçš„å¢åˆ æ”¹è¯»è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£

åŸå­é”
åŸå­é”åªæœ‰åœ¨memcached,dynamodb,redis,database,arrayä½œä¸ºcacheé©±åŠ¨çš„æ—¶å€™æ‰èƒ½è¢«ä½¿ç”¨ã€‚è€Œä¸”æ‰€æœ‰çš„serversã€ä»å±æœåŠ¡å™¨ã€‘éƒ½å¿…é¡»ä¸ç›¸åŒçš„ä¸­å¤®cache serverã€ä¸»æœåŠ¡å™¨ã€‘é€šä¿¡ã€‚

æ¯ä¸ªç±»å‹çš„é©±åŠ¨å¦‚ä½•é…ç½®ï¼ŒåŸå­é”çš„å…·ä½“ä½¿ç”¨ï¼Œæ–¹æ³•è°ƒç”¨è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£


è·¨è¿›ç¨‹ç®¡ç†åŸå­é”ï¼Œæ¯”å¦‚httpè¯·æ±‚çš„æ—¶å€™åŠ é”ï¼Œä½†æ˜¯è§£é”æ˜¯æ”¾åœ¨queue jobæˆ–è€…æŸä¸ªäº‹ä»¶è§¦å‘é€»è¾‘ä¹‹åã€‚å…·ä½“è¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£

æ·»åŠ è‡ªå®šä¹‰Cacheé©±åŠ¨

å‚è€ƒ Adding Custom Cache Drivers

äº‹ä»¶

Cacheçš„æ“ä½œä¼šè§¦å‘äº‹ä»¶ï¼Œå¦‚æœæœ‰éœ€è¦ç›‘å¬è¿™äº›äº‹ä»¶åšå“åº”çš„æ“ä½œï¼Œå¯ä»¥è®¾ç½®ç›‘å¬å™¨ï¼Œè®¾ç½®åœ¨EventServiceProviderç±»ä¸­ï¼Œå…·ä½“å‚è€ƒEvents


                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-cache-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laravel-broadcasting-xue-xi-ti-gang/">
                        Laravel Broadcasting å­¦ä¹ æçº²
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-08-30</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            1.æ€è€ƒæ¯ä¸€ä¸ªæ¨¡å—ï¼ŒåŠŸèƒ½æœ‰ä»€ä¹ˆç”¨ï¼Œä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨åˆ°ï¼Ÿ
ä¸»è¦å°±æ˜¯é€šè¿‡åˆ©ç”¨WebSocketæŠ€æœ¯å®ç°æœåŠ¡ç«¯å¯¹ç”¨æˆ·ç«¯çš„ä¿¡æ¯æ›´æ–°æ¨é€ã€‚
æå‰éœ€è¦çŸ¥é“Eventã€äº‹ä»¶ã€‘å’ŒListeners ã€ç›‘å¬å™¨ã€‘å¦‚ä½•ç”¨ã€‚

è¯¦ç»†ä¸€ç‚¹ï¼Œå°±æ˜¯åˆ©ç”¨Pusherå’ŒRedisä½œä¸ºé©±åŠ¨ï¼Œlogä¸€èˆ¬æ˜¯æµ‹è¯•çš„æ—¶å€™ç”¨ï¼Œè‡ªå·±å¯ä»¥å‚è€ƒ laravel-websocketså®ç°ä¸€ä¸ªï¼Œé€šè¿‡WebSocketï¼Œå®ç°LaravelæœåŠ¡ç«¯æŠŠäº‹ä»¶å¹¿æ’­åˆ°å®¢æˆ·ç«¯çš„JavaScriptåº”ç”¨ä¸Šã€‚
äº‹ä»¶å¹¿æ’­ç”¨åˆ°çš„ä¿¡é“ï¼Œå…·ä½“åˆ†å…¬å…±å’Œç§æœ‰ä¿¡é“ï¼Œå…¬å…±çš„ä¿¡é“ï¼Œä»»ä½•ç”¨æˆ·å¯ä»¥ä¸ç»æˆæƒå’Œè®¤è¯å°±å¯ä»¥è®¢é˜…æ¥å—ï¼Œç§æœ‰çš„å°±å¿…é¡»è®¤è¯å’Œæˆæƒäº†ã€‚

ä½¿ç”¨ä¸¾ä¾‹ï¼š


å‡å®šæœ‰ä¸€ä¸ªç»™ç”¨æˆ·æŸ¥çœ‹è®¢å•å‘è´§çŠ¶æ€çš„é¡µé¢ï¼›


è®¢å•è¿è¾“çŠ¶æ€å‘ç”Ÿæ”¹å˜å°±ä¼šè§¦å‘ä¸€ä¸ªShippingStatusUpdatedäº‹ä»¶ã€‚



event(new ShippingStatusUpdated($update));

å½“ç”¨æˆ·æŒ‚åœ¨è¿™ä¸ªé¡µé¢ï¼Œå³ä½¿ä¸éœ€è¦åˆ·æ–°ã€‚ä¹Ÿå¯ä»¥åœ¨è¿å•çŠ¶æ€æ”¹å˜çš„æ—¶å€™é€šè¿‡å¹¿æ’­åˆ°åº”ç”¨çš„æ–¹å¼è¿›è¡Œè¿å•çŠ¶æ€çš„æ›´æ–°ã€‚

åªéœ€è¦å®ç°ShouldBroadcastæ¥å£å³å¯ï¼›å…·ä½“å®ç°çœ‹å®˜æ–¹æ–‡æ¡£ã€‚


å¯¹äºéœ€è¦ç§æœ‰ä¿¡é“çš„ï¼Œå¯ä»¥çœ‹Authorizing Channelsã€‚å°±æ˜¯JSåº”ç”¨å‘åç«¯å‘é€HTTPè¯·æ±‚ï¼Œåç«¯é‰´æƒæå®šå°±å¯ä»¥äº†ï¼Œä½¿ç”¨Laravel Echoçš„è¯ï¼Œè¿™äº›éƒ½æ˜¯é»˜è®¤å®ç°å¥½äº†çš„ã€‚ä¸è¿‡ï¼Œéœ€è¦å®šä¹‰ç›¸åº”çš„routesæ¥å“åº”è¿™äº›è¯·æ±‚ã€‚

è·¯ç”±åŠå…¶ä»–çš„é…ç½®è§å®˜æ–¹æ–‡æ¡£ã€‚

å¦‚æœä½ çš„åº”ç”¨åœ¨routes/channels.phpä¸­é…ç½®æœ‰å¤ªå¤šçš„channelï¼Œä¼šéå¸¸çš„è‡ƒè‚¿ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±å»ºè®®æ‰§è¡Œphp artisan make:channel OrderChannelè¿™ä¸ªartisanå‘½ä»¤æ·»åŠ channelç±»ã€ä½äºApp\Broadcastingæ–‡ä»¶å¤¹ã€‘ï¼Œå…¶å®å°±å¾ˆç±»ä¼¼äºhttpè¯·æ±‚çš„routesäº†ï¼›æŠŠchannels.phpæ–‡ä»¶é‡Œé¢çš„é—­åŒ…å°±æ¢æˆç±»åBroadcast::channel(&#39;order.{order}&#39;, OrderChannel::class);å…·ä½“ä»£ç å°±åœ¨channelç±»çš„joinæ–¹æ³•é‡Œé¢å¤„ç†ã€‚

æ›´å¤šçš„å‚è€ƒå®˜æ–¹æ–‡æ¡£

å¯¹äºä¸€ä¸ªäº‹ä»¶å¹¿æ’­éœ€è¦æ’é™¤å½“å‰ç”¨æˆ·ã€å®¢æˆ·ç«¯ã€‘çš„ï¼Œä¸€èˆ¬æ˜¯ä½¿ç”¨toOthers()æ–¹æ³•ï¼Œäº‹ä»¶ç±»éœ€è¦ä½¿ç”¨Illuminate\Broadcasting\InteractsWithSocketstraitæ¥è°ƒç”¨toOthers()æ–¹æ³•ã€‚

â€‹	However, remember that we also broadcast the task&#39;s creation. If your JavaScript application is listening for this event in order to add tasks to the task list, you will have duplicate tasks in your list: one from the end-point and one from the broadcast. You may solve this by using the toOthers method to instruct the broadcaster to not broadcast the event to the current user.

åœºæ™¯å°±æ˜¯ï¼Œç”¨æˆ·å‘å¸ƒäº†ä¸€ä¸ªä»»åŠ¡ï¼Œç„¶åaxiosçš„responseè·å–åˆ°è¯¥ä»»åŠ¡æ›´æ–°ï¼ŒåŒæ—¶è¿™ä¸ªä»»åŠ¡æ›´æ–°è¢«äº‹ä»¶å¹¿æ’­å‡ºå»ï¼Œå‰ç«¯ä»£ç é€šè¿‡äº‹ä»¶å¹¿æ’­å°†ç”¨æˆ·ä»¬çš„ä»»åŠ¡åˆ—è¡¨+1ï¼Œå…¶ä»–ç”¨æˆ·æ¥æ”¶åˆ°äº†ï¼Œæœ¬ç”¨æˆ·ä¹Ÿæ¥å—åˆ°äº†ï¼Œç›¸å½“äºå½“å‰ç”¨æˆ·æ”¶åˆ°äº†ä¸¤æ¬¡å“åº”ï¼Œè¿™æ ·å°±é‡å¤äº†ï¼Œä½¿ç”¨toOthersæ–¹æ³•å°±å¯ä»¥ä¸é€šçŸ¥å½“å‰ç”¨æˆ·ï¼Œè¿™æ ·å°±ä¸ä¼šé‡å¤ã€‚


é»˜è®¤æƒ…å†µä¸‹ï¼ŒVue+Axioså·²ç»å®ç°äº†å®¢æˆ·ç«¯çš„å¤„ç†é€»è¾‘ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œå…·ä½“çš„çœ‹å®˜æ–¹æ–‡æ¡£ï¼šOnly To Othersã€‚


åœ¨çº¿çŠ¶æ€é¢‘é“ã€æˆ‘æ„¿ç§°ä¹‹ä¸ºå±€åŸŸç½‘ã€‘ï¼Œå¯ä»¥å®ç°æ¯”å¦‚bilibiliåœ¨çº¿è§‚çœ‹äººæ•°å®æ—¶å˜åŠ¨çš„åŠŸèƒ½ã€‚ç”¨æˆ·å¤šä¸€ä¸ªï¼Œå¤§å®¶çš„åœ¨çº¿è§‚çœ‹äººæ•°éƒ½æ˜¾ç¤º+1ï¼Œå½“ç„¶æ›´ç²¾ç»†çš„å¯ä»¥åšåˆ°ï¼Œè°åŠ å…¥äº†ç›´æ’­é—´è¿™ç§æç¤ºã€‚è‚¯å®šä¹Ÿå°±æ˜¯privateä¿¡é“ï¼Œè€Œä¸”ç”¨æˆ·è¿˜å¿…é¡»è¿‡channelé‰´æƒï¼Œä¸ç„¶æ€ä¹ˆç»Ÿè®¡ç”¨æˆ·ä¿¡æ¯ï¼Ÿ

ä¹Ÿå› æ­¤ï¼Œé‰´æƒçš„å›è°ƒå‡½æ•°ä¸æ˜¯è¿”å›trueå€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªåŒ…å«ç”¨æˆ·æ•°æ®çš„arrayï¼Œè¿™ä¸ªæ•°æ®ä¼šè¢«å…¶ä»–äº‹ä»¶å¹¿æ’­ç›‘å¬çš„ç”¨æˆ·æ‰€ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰è¢«æˆæƒæˆ–æˆæƒå¤±è´¥ï¼Œè¿”å›falseæˆ–è€…nullã€‚


å¦‚æœéœ€è¦åšèŠå¤©å®¤ç±»çš„åº”ç”¨æˆ–è€…åŠŸèƒ½å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚

å¦‚æœéœ€è¦ä¸€ä¸ªæ¯”å¦‚â€œæ­£åœ¨è¾“å…¥â€çš„çŠ¶æ€æç¤ºç»™å…¶ä»–ç”¨æˆ·ï¼Œè€Œä¸ç”¨é€šçŸ¥åˆ°åç«¯ï¼Œåªéœ€è¦ä¸€ä¸ªå¾ˆè½»é‡ç®€æ´çš„åŠŸèƒ½ï¼Œè§¦å‘æ–¹ä½¿ç”¨Echoçš„whisperæ–¹æ³•ï¼Œæ¥æ”¶æ–¹ä½¿ç”¨listenForWhisperå³å¯ã€‚

å…·ä½“å‚è€ƒå®˜æ–¹æ–‡æ¡£

éœ€è¦Notificationä¹Ÿä½¿ç”¨BroadCastingæœåŠ¡ï¼Œä¸éœ€è¦åˆ·æ–°å°±å¯ä»¥é€šçŸ¥åˆ°å‰ç«¯ï¼Œ
è¯·å…ˆå‚è€ƒthe broadcast notification channelé…ç½®Notificationï¼Œç„¶åå‰ç«¯å‚è€ƒå®˜æ–¹æ–‡æ¡£è¿›è¡ŒNotificationå¹¿æ’­çš„ç›‘å¬å³å¯ã€‚
2.å…·ä½“ç”¨æ³•åªéœ€è¦äº†è§£ã€ä¸ä½¿ç”¨çš„æ—¶å€™æ˜¯è®°ä¸ä½çš„ã€‘ï¼Œå…·ä½“è¦ç”¨å†æŸ¥å®˜æ–¹æ–‡æ¡£ã€‚

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laravel-broadcasting-xue-xi-ti-gang/">Read More ~</a>
                            </div>
                </div>
            </article>
            
            <article class="post i-card">
                <h2 class="post-title">
                    <a href="https://dzkjz.github.io/post/laradock-win10/">
                        Laradock Win10 
                    </a>
                </h2>
                <div class="post-info">
                    <time class="post-time">2020-08-15</time>
                    
                </div>
                <div class="post-article">
                    
                            <div class="post-content">
                                
                                        <div class="post-content-content">
                                            å‚è€ƒå®˜æ–¹çš„æ–‡æ¡£ ä»¥åŠåœ¨ Mac/Windows ç³»ç»Ÿä¸­ä½¿ç”¨ Laradock æ­å»ºåŸºäº Docker çš„ Laravel å¼€å‘ç¯å¢ƒå®‰è£…
ç»™ğŸ‘´ä¸€ç›´æŠ¥é”™ã€‚

ERROR: for postgres  Cannot create container for service postgres: status code not OK but 500: {&amp;quot;Message&amp;quot;:&amp;quot;Unhandled exception: Filesharing has been cancelled&amp;quot;,&amp;quot;StackTrace&amp;quot;:&amp;quot;   at Docker.ApiServices.Mounting.FileSharing.&amp;lt;**DoShareAsync**&amp;gt;d__6.MoveNext() in C:\workspaces\stable-2.3.x\src\github.com\docker\pinata\win\src\Docker.ApiServices\Mounting\FileSharing.cs:line 0\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Docker.ApiServices.Mounting.FileSharing.&amp;lt;**ShareAsync**&amp;gt;d__4.MoveNext() in C:\workspaces\stable-2.3.x\src\github.com\docker\pinata\win\src\Docker.ApiServices\Mounting\FileSharing.cs:line 47\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at Docker.HttpApi.Controllers.FilesharingController.&amp;lt;**ShareDirectory**&amp;gt;d__2.MoveNext() in C:\workspaces\stable-2.3.x\src\github.com\docker\pinata\win\src\Docker.HttpApi\Controllers\FilesharingController.cs:line 21\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Threading.Tasks.TaskHelpersExtensions.&amp;lt;**CastToObject**&amp;gt;d__1`1.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Web.Http.Controllers.ApiControllerActionInvoker.&amp;lt;**InvokeActionAsyncCore**&amp;gt;d__1.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Web.Http.Controllers.ActionFilterResult.&amp;lt;**ExecuteAsync**&amp;gt;d__5.MoveNext()\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\r\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\r\n   at System.Web.Http.Dispatcher.HttpControllerDispatcher.&amp;lt;**SendAsync**&amp;gt;d__15.MoveNext()&amp;quot;}	


åæ­£å°±æ˜¯è¿™ç±»ï¼Œæ²¡æˆªå®Œï¼Œ
æ ¹æ®
https://github.com/docker/for-win/issues/5456
https://stackoverflow.com/questions/59942110/docker-drive-has-not-been-shared
https://forums.docker.com/t/cannot-share-drive-in-windows-10/28798
ä»¥åŠ

Laradocké‡åˆ°çš„å‘


å°±æ˜¯è®¾ç½®FILESHARING é‡Œæ·»åŠ éœ€è¦sharingçš„Cç›˜å’ŒDç›˜å°±okäº†ã€‚

                                        </div>
                                        
                                            <a class="btn btn-text" href="https://dzkjz.github.io/post/laradock-win10/">Read More ~</a>
                            </div>
                </div>
            </article>
            
                <!-- ç¿»é¡µ -->
                
    <div class="pagination-container">
        
            <a href="https://dzkjz.github.io/" class="page-btn btn">ä¸Šä¸€é¡µ</a>
            
                
                    <a href="https://dzkjz.github.io/page/3/" class="page-btn btn">ä¸‹ä¸€é¡µ</a>
                    
    </div>
    
                </div>
                <!--  -->
                <div class="main-container-middle"></div>
                <!--  -->
                <div id="sidebar" class="main-container-right">

                    <!-- ä¸ªäººä¿¡æ¯ -->
                    
    <div class="id_card i-card">
        <div class="id_card-avatar" style="background-image: url(https://dzkjz.github.io//images/avatar.png?v=1602855902648)">
        </div>
        <h1 class="id_card-title">
            JojoLegend
        </h1>
        <h2 class="id_card-description">
            Something for age
        </h2>
        <!--  -->
        <div class="id_card-sns">
            <!-- github -->
            
                    <!-- twitter -->
                    
                            <!-- weibo -->
                            
                                    <!-- facebook -->
                                    

        </div>
    </div>
    

                        <!-- å…¬å‘Šæ  -->
                        

                </div>
            </div>



            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://dzkjz.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
</body>

</html>